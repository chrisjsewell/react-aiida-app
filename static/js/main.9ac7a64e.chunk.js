(this["webpackJsonpreact-aiida-app"]=this["webpackJsonpreact-aiida-app"]||[]).push([[0],{487:function(e,t,a){},488:function(e,t,a){},489:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(28),c=a.n(i),s=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,631)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))},o=a(88),l=a(22),d=a(12),j=a(20),u=a(5),b=a(589),p=a(96),h=a(34),x=a(491),O=a(496),m=a(572),f=a(494),g=a(140),v=a(628),y=a(156),w=a(93),k=a(576),C=a(564),A=a(81),_=a(608),S=a(591),D=a(161),I=a(610),U=a(563),P=a(603),T=a(604),N=a(568),R=a(570),L=a(605),E=a(606),M=a(607),F=a(609),B=a(550),W=a(611),z=a(36),H=a(188),G=a(620),J=a(180),V=a(29),q=a.n(V),Y=a(46),X=new(a(614).a),$="http://127.0.0.1:5000/api/v4",Q=new RegExp("^https?:\\/\\/[^\\?]+$"),Z=new RegExp("^[-a-zA-Z0-9]+$"),K=r.a.createContext({baseUrl:$});function ee(){return(ee=Object(Y.a)(q.a.mark((function e(t){var a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,fetch("".concat(t));case 4:return a=e.sent,e.abrupt("return",a.ok);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=Object(Y.a)(q.a.mark((function e(t,a,n){var r,i,c,s,o;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return",null);case 2:return r=20,i=a?"node_type=like=%22".concat(a,"%%22&"):"",e.next=6,fetch("".concat(t,"/nodes/page/").concat(n,"?perpage=").concat(r,"&orderby=-mtime&").concat(i,"attributes=true&attributes_filter=process_label,process_state,exit_status"));case 6:return c=e.sent,s=parseInt(c.headers.get("x-total-count")||"0"),e.next=10,c.json();case 10:return o=e.sent,e.abrupt("return",{nodes:o.data.nodes,totalCount:s,perPage:r});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){return(ae=Object(Y.a)(q.a.mark((function e(t){var a,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,fetch("".concat(t,"/nodes/statistics/"));case 4:return a=e.sent,e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",n.data);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t){return re.apply(this,arguments)}function re(){return(re=Object(Y.a)(q.a.mark((function e(t,a){var n,r,i,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t&&a){e.next=2;break}return e.abrupt("return",null);case 2:if(Z.test(a)){e.next=4;break}throw new TypeError("UUID does not match required format");case 4:return e.next=6,fetch("".concat(t,"/nodes/").concat(a,"?attributes=true&extras=true"));case 6:return i=e.sent,e.next=9,i.json();case 9:return c=e.sent,e.abrupt("return",void 0===(null===(n=c.data)||void 0===n?void 0:n.nodes)?null:Object.values(null===(r=c.data)||void 0===r?void 0:r.nodes)[0]);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return(ie=Object(Y.a)(q.a.mark((function e(t,a){var n,r,i,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t&&a){e.next=2;break}return e.abrupt("return",null);case 2:if(Z.test(a)){e.next=4;break}throw new TypeError("UUID does not match required format");case 4:return e.next=6,fetch("".concat(t,"/nodes/").concat(a,"/repo/list"));case 6:return i=e.sent,e.next=9,i.json();case 9:return c=e.sent,e.abrupt("return",void 0===(null===(n=c.data)||void 0===n?void 0:n.repo_list)?null:Object.values(null===(r=c.data)||void 0===r?void 0:r.repo_list));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e,t){return se.apply(this,arguments)}function se(){return(se=Object(Y.a)(q.a.mark((function e(t,a){var n,r,i,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t&&a){e.next=2;break}return e.abrupt("return",null);case 2:if(Z.test(a)){e.next=4;break}throw new TypeError("UUID does not match required format");case 4:return e.next=6,fetch("".concat(t,"/nodes/").concat(a,"/links/incoming/page/1"));case 6:return i=e.sent,e.next=9,i.json();case 9:return c=e.sent,e.abrupt("return",void 0===(null===(n=c.data)||void 0===n?void 0:n.incoming)?null:Object.values(null===(r=c.data)||void 0===r?void 0:r.incoming));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,t){return le.apply(this,arguments)}function le(){return(le=Object(Y.a)(q.a.mark((function e(t,a){var n,r,i,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t&&a){e.next=2;break}return e.abrupt("return",null);case 2:if(Z.test(a)){e.next=4;break}throw new TypeError("UUID does not match required format");case 4:return e.next=6,fetch("".concat(t,"/nodes/").concat(a,"/links/outgoing/page/1"));case 6:return i=e.sent,e.next=9,i.json();case 9:return c=e.sent,e.abrupt("return",void 0===(null===(n=c.data)||void 0===n?void 0:n.outgoing)?null:Object.values(null===(r=c.data)||void 0===r?void 0:r.outgoing));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return(de=Object(Y.a)(q.a.mark((function e(t){var a,n,r,i;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,fetch("".concat(t,"/groups?orderby=type_string"));case 4:return r=e.sent,e.next=7,r.json();case 7:return i=e.sent,e.abrupt("return",void 0===(null===(a=i.data)||void 0===a?void 0:a.groups)?null:Object.values(null===(n=i.data)||void 0===n?void 0:n.groups));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var je=a(167),ue=a(179),be=240,pe=Object(je.a)((function(e){var t,a,n;return Object(ue.a)({landingIcon:Object(l.a)({marginLeft:e.spacing(2),float:"right"},e.breakpoints.down("xs"),{float:"none",display:"flex",justifyContent:"center"}),featureCard:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center"},flexGrow:{flexGrow:1},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:be,width:"calc(100% - ".concat(be,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:Object(l.a)({marginRight:e.spacing(0)},e.breakpoints.up("sm"),{marginRight:e.spacing(2)}),aiidaIcon:{marginRight:e.spacing(1)},inputRestUrl:(t={position:"relative",marginRight:e.spacing(1),marginLeft:0,width:"100%"},Object(l.a)(t,e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto",minWidth:250}),Object(l.a)(t,e.breakpoints.up("md"),{minWidth:300}),t),inputRestUrlText:{color:e.palette.primary.contrastText},hide:{display:"none"},overflowAuto:{overflow:"auto"},drawer:{width:be,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:be,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:(a={transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(9)+1},Object(l.a)(a,e.breakpoints.down("sm"),{width:e.spacing(7)+1}),Object(l.a)(a,e.breakpoints.down("xs"),{width:0}),a),toolbar:Object(j.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),mainGrid:(n={paddingTop:e.spacing(1),paddingLeft:e.spacing(10)},Object(l.a)(n,e.breakpoints.down("sm"),{paddingLeft:e.spacing(8)}),Object(l.a)(n,e.breakpoints.down("xs"),{paddingLeft:e.spacing(1)}),Object(l.a)(n,"paddingRight",e.spacing(1)),n),paper:{padding:e.spacing(2)},accordSumContent:{margin:"0 12px!important"},InlineIcon:{verticalAlign:"middle",display:"inline-flex"},padTop:{paddingTop:e.spacing(2)},pagination:{paddingTop:e.spacing(2),paddingBottom:e.spacing(1)},nodeTree:{width:"100%",backgroundColor:e.palette.background.paper},nodeItemChip:{marginLeft:e.spacing(1),marginBottom:e.spacing(1),float:"right"},nodeListItem:{overflow:"hidden"}})})),he=a(201),xe=a(547),Oe=a(548),me=a(549),fe=a(551),ge=a(552),ve=a(553),ye=a(554),we=a(555),ke=a(556),Ce=a(557),Ae=a(558),_e=a(559),Se=a(560),De=a(561),Ie=a(1),Ue="#84D3DB",Pe="#A0D58A",Te="#FFB27C";function Ne(e){var t=e.width,a=e.height,n=e.arcColor;return Object(Ie.jsxs)("svg",{width:t,height:a,viewBox:"0 -21 200 221",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[Object(Ie.jsxs)("g",{children:[Object(Ie.jsx)("title",{children:"background"}),Object(Ie.jsx)("rect",{fill:"none",id:"canvas_background",height:"402",width:"582",y:"-1",x:"-1"})]}),Object(Ie.jsxs)("g",{children:[Object(Ie.jsx)("title",{children:"Dashboard Arc"}),Object(Ie.jsx)("g",{id:"svg_7",fill:n,opacity:"0.8",transform:"rotate(180) translate(-170,32) scale(0.29, -0.28)",children:Object(Ie.jsx)("path",{d:"M492.719,207.208c-0.108-0.575-0.27-1.146-0.492-1.702c-0.223-0.558-0.507-1.069-0.837-1.537 c-12.787-30.616-31.365-58.265-54.348-81.565c-0.324-0.482-0.701-0.944-1.135-1.378s-0.896-0.811-1.378-1.135 C388.233,74.226,324.764,45.933,255,45.933c-33.418,0-65.389,6.5-94.725,18.281c-0.575,0.108-1.146,0.27-1.701,0.492 c-0.557,0.223-1.069,0.507-1.537,0.837c-30.616,12.787-58.265,31.365-81.565,54.348c-0.482,0.324-0.944,0.701-1.378,1.135 s-0.812,0.896-1.135,1.378C27.293,168.7-1,232.169-1,301.933c0,58.027,18.773,113.493,55.467,158.72 c1.707,2.56,4.267,3.413,6.827,3.413h387.413c2.56,0,5.12-0.853,6.827-3.413C492.227,415.427,511,359.96,511,301.933 C511,268.515,504.5,236.544,492.719,207.208z M445.293,447H65.56c-11.539-14.88-21.122-30.844-28.695-47.616l23.575-9.557 c4.267-1.707,5.973-6.827,4.267-11.093c-1.707-4.267-6.827-5.973-11.093-4.267l-23.11,9.369 c-8.574-23.342-13.394-48.021-14.278-73.369H75.8c5.12,0,8.533-3.413,8.533-8.533S80.92,293.4,75.8,293.4H16.237 c0.957-26.907,6.416-52.715,15.648-76.694L55.32,226.84c0.853,0.853,2.56,0.853,3.413,0.853c3.413,0,5.973-1.707,7.68-5.12 c1.707-4.267,0-9.387-4.267-11.093l-23.672-10.237c10.699-22.831,24.906-43.721,41.922-61.967l17.59,17.59 c1.707,1.707,3.413,2.56,5.973,2.56s4.267-0.853,5.973-2.56c3.413-3.413,3.413-8.533,0-11.947l-17.59-17.59 c19.117-17.828,41.131-32.581,65.244-43.438l9.52,23.482c0.853,3.413,4.267,5.12,7.68,5.12c0.853,0,1.707,0,3.413-0.853 c4.267-1.707,5.973-6.827,4.267-11.093l-9.329-23.012c23.021-8.463,47.679-13.452,73.329-14.364v59.563 c0,5.12,3.413,8.533,8.533,8.533s8.533-3.413,8.533-8.533V63.17c26.907,0.957,52.715,6.416,76.694,15.648l-10.134,23.436 c-1.707,4.267,0,9.387,4.267,11.093c0.853,0.853,2.56,0.853,3.413,0.853c3.413,0,6.827-2.56,7.68-5.12l10.237-23.672 c22.831,10.699,43.721,24.906,61.967,41.922l-17.59,17.59c-3.413,3.413-3.413,8.533,0,11.947c1.707,1.707,3.413,2.56,5.973,2.56 c1.707,0,4.267-0.853,5.973-2.56l17.59-17.59c17.828,19.117,32.581,41.131,43.438,65.244l-23.482,9.52 c-4.267,1.707-5.973,6.827-4.267,11.093c0.853,3.413,4.267,5.12,7.68,5.12c0.853,0,1.707-0.853,3.413-0.853l23.013-9.329 c8.463,23.021,13.452,47.679,14.364,73.329H434.2c-5.12,0-8.533,3.413-8.533,8.533s3.413,8.533,8.533,8.533h59.575 c-0.927,26.593-6.172,52.45-15.418,76.799l-23.677-10.239c-4.267-1.707-9.387,0-11.093,4.267c-1.707,4.267,0,9.387,4.267,11.093 l23.981,10.37C464.644,418.298,455.773,433.121,445.293,447z"})})]}),Object(Ie.jsxs)("g",{children:[Object(Ie.jsx)("title",{children:"Main Icon"}),Object(Ie.jsx)("g",{id:"svg_1",fill:"#000000",transform:"translate(0, 200) scale(0.1, -0.1)",children:Object(Ie.jsx)("path",{fill:"#84D3DB",id:"svg_2",d:"m1369.99536,994.72168c-75,-21.00024 -101,-34.00024 -161,-80.00024c-68,-51.99976 -135,-150.99976 -153,-222.99976l-6,-28l150,0l150,0l0,60c0,33 4,60 9,60c5,0 43,-20 85,-45c42,-24 106,-61 143,-81c81,-45.00006 143,-83.00006 143,-88.00006c0,-3 -24,-18 -52,-33c-71,-39 -116,-65 -225,-129c-51,-30 -94,-54 -97,-54c-3,0 -6,29 -6,65l0,65l-151,0c-166,0 -152,6 -133,-61c14,-50 82,-144.99988 135,-188.99988c87,-72 151,-94 279,-95c88,0 115,4 163,23c119,48 224,165.99988 261,290.99988c30,102 13,250.00006 -36,323.00006c-10,14 -18,31 -18,36c0,16 -127,129.99976 -168,150.99976c-49,24 -158,51.00024 -208,50.00024c-21,0 -68,-8 -104,-18z"})}),Object(Ie.jsx)("g",{id:"svg_4",fill:"#000000",transform:"rotate(-120, 96.4437, 55.2508) translate(0, 200) scale(0.1, -0.1)",children:Object(Ie.jsx)("path",{fill:"#FFB27C",id:"svg_3",d:"m849.99731,1866.47681c-75,-21 -101,-34 -161,-80c-68,-52 -135,-150.99988 -153,-222.99988l-6,-28l150,0l150,0l0,60c0,33 4,59.99988 9,59.99988c5,0 43,-19.99988 85,-44.99988c42,-24 105.99805,-61 142.99805,-81c81,-45 143,-83 143,-88c0,-3 -24,-18 -52,-33c-71,-39 -116,-65 -224.99805,-129c-51,-30 -94,-54 -97,-54c-3,0 -6,29 -6,65l0,65l-151,0c-166,0 -152,6 -133,-61c14,-50 82,-145 135,-189c87,-72 151,-93.99939 279,-94.99939c87.99805,0 114.99805,4 162.99805,22.99939c119,48 224,166 261,291c30,102 13,250 -36,322.99988c-10,14 -18,31 -18,36c0,16 -127,130 -168,151c-49,24 -158,51 -207.99805,50c-21,0 -68,-8 -104,-18z"})}),Object(Ie.jsx)("g",{id:"svg_6",fill:"#000000",transform:"rotate(120, 50.1463, 142.426) translate(0, 200) scale(0.1, -0.1)",children:Object(Ie.jsx)("path",{fill:"#A0D58A",id:"svg_5",d:"m387.00516,994.72168c-75,-21.00024 -101,-34.00024 -161,-80.00024c-68,-51.99976 -135,-150.99976 -153,-222.99976l-6,-28l150,0l150,0l0,60c0,33 4,60 9,60c5,0 43,-20 85,-45c42,-24 105.99997,-61 142.99997,-81c81,-45.00006 143,-83.00006 143,-88.00006c0,-3 -24,-18 -52,-33c-71,-39 -116,-65 -224.99997,-129c-51,-30 -94,-54 -97,-54c-3,0 -6,29 -6,65l0,65l-151,0c-166,0 -152,6 -133,-61c14,-50 82,-144.99988 135,-188.99988c87,-72 151,-94 279,-95c87.99997,0 114.99997,4 162.99997,23c119,48 224,165.99988 261,290.99988c30,102 13,250.00006 -36,323.00006c-10,14 -18,31 -18,36c0,16 -127,129.99976 -168,150.99976c-49,24 -158,51.00024 -207.99997,50.00024c-21,0 -68,-8 -104,-18z"})})]})]})}Ne.defaultProps={width:200,height:200,arcColor:"black"};var Re={default:Object(Ie.jsx)(xe.a,{}),folder:Object(Ie.jsx)(Oe.a,{}),"data.array":Object(Ie.jsx)(me.a,{}),"data.bool":Object(Ie.jsx)(B.a,{}),"data.cif":Object(Ie.jsx)(fe.a,{}),"data.code":Object(Ie.jsx)(ge.a,{}),"data.dict":Object(Ie.jsx)(ve.a,{}),"data.float":Object(Ie.jsx)(ye.a,{}),"data.folder":Object(Ie.jsx)(Oe.a,{}),"data.int":Object(Ie.jsx)(we.a,{}),"data.list":Object(Ie.jsx)(ke.a,{}),"data.numeric":Object(Ie.jsx)(Ce.a,{}),"data.orbital":Object(Ie.jsx)(Ae.a,{}),"data.remote":Object(Ie.jsx)(_e.a,{}),"data.str":Object(Ie.jsx)(Se.a,{}),"data.structure":Object(Ie.jsx)(De.a,{}),"process.calculation":Object(Ie.jsx)(Le,{}),"process.process":Object(Ie.jsx)(Le,{}),"process.workflow":Object(Ie.jsx)(Ee,{})};function Le(){return Object(Ie.jsx)(he.a,{children:Object(Ie.jsx)("path",{fillRule:"evenodd",d:"M20.322.75a10.75 10.75 0 00-7.373 2.926l-1.304 1.23A23.743 23.743 0 0010.103 6.5H5.066a1.75 1.75 0 00-1.5.85l-2.71 4.514a.75.75 0 00.49 1.12l4.571.963c.039.049.082.096.129.14L8.04 15.96l1.872 1.994c.044.047.091.09.14.129l.963 4.572a.75.75 0 001.12.488l4.514-2.709a1.75 1.75 0 00.85-1.5v-5.038a23.741 23.741 0 001.596-1.542l1.228-1.304a10.75 10.75 0 002.925-7.374V2.499A1.75 1.75 0 0021.498.75h-1.177zM16 15.112c-.333.248-.672.487-1.018.718l-3.393 2.262.678 3.223 3.612-2.167a.25.25 0 00.121-.214v-3.822zm-10.092-2.7L8.17 9.017c.23-.346.47-.685.717-1.017H5.066a.25.25 0 00-.214.121l-2.167 3.612 3.223.679zm8.07-7.644a9.25 9.25 0 016.344-2.518h1.177a.25.25 0 01.25.25v1.176a9.25 9.25 0 01-2.517 6.346l-1.228 1.303a22.248 22.248 0 01-3.854 3.257l-3.288 2.192-1.743-1.858a.764.764 0 00-.034-.034l-1.859-1.744 2.193-3.29a22.248 22.248 0 013.255-3.851l1.304-1.23zM17.5 8a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zm-11 13c.9-.9.9-2.6 0-3.5-.9-.9-2.6-.9-3.5 0-1.209 1.209-1.445 3.901-1.49 4.743a.232.232 0 00.247.247c.842-.045 3.534-.281 4.743-1.49z"})})}function Ee(){return Object(Ie.jsxs)(he.a,{children:[Object(Ie.jsx)("path",{fillRule:"evenodd",d:"M5.75 21a1.75 1.75 0 110-3.5 1.75 1.75 0 010 3.5zM2.5 19.25a3.25 3.25 0 106.5 0 3.25 3.25 0 00-6.5 0zM5.75 6.5a1.75 1.75 0 110-3.5 1.75 1.75 0 010 3.5zM2.5 4.75a3.25 3.25 0 106.5 0 3.25 3.25 0 00-6.5 0zM18.25 6.5a1.75 1.75 0 110-3.5 1.75 1.75 0 010 3.5zM15 4.75a3.25 3.25 0 106.5 0 3.25 3.25 0 00-6.5 0z"}),Object(Ie.jsx)("path",{fillRule:"evenodd",d:"M5.75 16.75A.75.75 0 006.5 16V8A.75.75 0 005 8v8c0 .414.336.75.75.75z"}),Object(Ie.jsx)("path",{fillRule:"evenodd",d:"M17.5 8.75v-1H19v1a3.75 3.75 0 01-3.75 3.75h-7a1.75 1.75 0 00-1.75 1.75H5A3.25 3.25 0 018.25 11h7a2.25 2.25 0 002.25-2.25z"})]})}function Me(e){var t=e.width,a=void 0===t?180:t,n=e.height,r=void 0===n?180:n,i=e.singleColor;return Object(Ie.jsx)(he.a,{children:Object(Ie.jsx)("svg",{version:"1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 400 400",width:a,height:r,children:Object(Ie.jsxs)("g",{children:[Object(Ie.jsx)("line",{y2:"7.9474411",x2:"38",y1:"14.5",x1:"27",style:{stroke:i||"#9ed700",strokeWidth:1.14999998}}),Object(Ie.jsx)("line",{y2:"46.052559",x2:"38",y1:"33.25",x1:"37.825317",style:{stroke:i||"#00acd9",strokeWidth:1.14999998}}),Object(Ie.jsx)("line",{y2:"27",x2:"5",y1:"33.25",x1:"16.174683",style:{stroke:i||"#7a2dd0",strokeWidth:1.14999998}}),Object(Ie.jsx)("line",{y2:"46.052559",x2:"38",y1:"27",x1:"49",style:{stroke:i||"#00acd9",strokeWidth:1.14999998}}),Object(Ie.jsx)("line",{y2:"46.052559",x2:"16",y1:"46.052559",x1:"38",style:{stroke:i||"#e8e8e8",strokeWidth:2}}),Object(Ie.jsx)("line",{y2:"27",x2:"5",y1:"46.052559",x1:"16",style:{stroke:i||"#7a2dd0",strokeWidth:1.14999998}}),Object(Ie.jsx)("line",{y2:"7.9474411",x2:"16",y1:"27",x1:"5",style:{stroke:i||"#e8e8e8",strokeWidth:2}}),Object(Ie.jsx)("line",{y2:"7.9474411",x2:"38",y1:"7.9474411",x1:"16",style:{stroke:i||"#9ed700",strokeWidth:1.14999998}}),Object(Ie.jsx)("line",{y2:"27",x2:"49",y1:"7.9474411",x1:"38",style:{stroke:i||"#e8e8e8",strokeWidth:2}}),Object(Ie.jsx)("circle",{r:"3.5",cy:"27",cx:"49",style:{fill:i||"#00acd9"}}),Object(Ie.jsx)("circle",{r:"3.5",cy:"46.052559",cx:"38",style:{fill:i||"#00acd9"}}),Object(Ie.jsx)("circle",{id:"circle367",r:"3.5",cy:"46.052559",cx:"16",style:{fill:i||"#7a2dd0"}}),Object(Ie.jsx)("circle",{r:"3.5",cy:"27",cx:"5",style:{fill:i||"#7a2dd0"}}),Object(Ie.jsx)("circle",{r:"3.5",cy:"7.9474411",cx:"16",style:{fill:i||"#9ed700"}}),Object(Ie.jsx)("circle",{r:"3.5",cy:"7.9474411",cx:"38",style:{fill:i||"#9ed700"}}),Object(Ie.jsx)("line",{y2:"33.25",x2:"16.174683",y1:"39.5",x1:"27",style:{stroke:i||"#ff414d",strokeWidth:1}}),Object(Ie.jsx)("line",{y2:"20.75",x2:"16.174683",y1:"33.25",x1:"16.174683",style:{stroke:i||"#ff414d",strokeWidth:1}}),Object(Ie.jsx)("line",{y2:"14.5",x2:"27",y1:"20.75",x1:"16.174683",style:{stroke:i||"#ff414d",strokeWidth:1}}),Object(Ie.jsx)("line",{y2:"20.75",x2:"37.825317",y1:"14.5",x1:"27",style:{stroke:i||"#ff414d",strokeWidth:1}}),Object(Ie.jsx)("line",{y2:"33.25",x2:"37.825317",y1:"20.75",x1:"37.825317",style:{stroke:i||"#ff414d",strokeWidth:1}}),Object(Ie.jsx)("line",{y2:"39.5",x2:"27",y1:"33.25",x1:"37.825317",style:{stroke:i||"#ff414d",strokeWidth:1}}),Object(Ie.jsx)("circle",{r:"2.5",cy:"39.5",cx:"27",style:{fill:i||"#ff414d"}}),Object(Ie.jsx)("circle",{r:"2.5",cy:"33.25",cx:"16.174683",style:{fill:i||"#ff414d"}}),Object(Ie.jsx)("circle",{r:"2.5",cy:"20.75",cx:"16.174683",style:{fill:i||"#ff414d"}}),Object(Ie.jsx)("circle",{r:"2.5",cy:"14.5",cx:"27",style:{fill:i||"#ff414d"}}),Object(Ie.jsx)("circle",{r:"2.5",cy:"20.75",cx:"37.825317",style:{fill:i||"#ff414d"}}),Object(Ie.jsx)("circle",{r:"2.5",cy:"33.25",cx:"37.825317",style:{fill:i||"#ff414d"}})]})})})}var Fe="/",Be="/404",We="/nodes",ze="/groups",He="/graph",Ge="/structures",Je="react-aiida-rest-url",Ve="aiida-uuid-bookmarks",qe="aiida-node-explorer-type-prefix",Ye="aiida-node-explorer-field-uuid",Xe="aiida-node-explorer-expanded",$e="aiida-provenence-graph-root-uuid",Qe="aiida-provenence-graph-dag-mode",Ze="aiida-provenence-graph-dag-level-dist",Ke="aiida-structure-uuid",et="optimade-structure-provider",tt="optimade-structure-id",at=a(613),nt=a(571),rt=a(623),it=a(565),ct=a(566),st=a(567),ot=a(569),lt=a(616),dt=a(617),jt=a(622),ut=a(92),bt=a(562);function pt(e,t){var a=Object(n.useState)((function(){try{var a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(n){return console.log(n),t}})),r=Object(d.a)(a,2),i=r[0],c=r[1];return[i,function(t){try{var a=t instanceof Function?t(i):t;c(a),window.localStorage.setItem(e,JSON.stringify(a))}catch(n){console.log(n)}}]}function ht(e,t,a){console.warn("no SnackbarProvider set")}var xt=Object(n.createContext)(ht);function Ot(e){var t=Object(n.useState)({open:!1}),a=Object(d.a)(t,2),r=a[0],i=a[1],c=function(){i({open:!1})};return Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsx)(xt.Provider,{value:function(e,t,a){i({open:!0,message:e,action:t,handleAction:a})},children:e.children}),Object(Ie.jsx)(e.SnackbarComponent,{message:r.message,action:r.action,ButtonProps:Object(j.a)(Object(j.a)({},e.ButtonProps),{},{onClick:function(e){c(),r.handleAction&&r.handleAction(e)}}),SnackbarProps:Object(j.a)(Object(j.a)({},e.SnackbarProps),{},{open:r.open,onClose:c})})]})}function mt(e){return Object(Ie.jsx)(o.b,Object(j.a)(Object(j.a)({},e),{},{children:e.children}))}function ft(e){return Object(Ie.jsx)(bt.a,Object(j.a)(Object(j.a)({target:"_blank",rel:"noopener"},e),{},{children:e.children}))}function gt(){var e=pe();return Object(Ie.jsxs)(U.a,{container:!0,spacing:2,className:e.mainGrid,children:[Object(Ie.jsx)(U.a,{item:!0,xs:12,alignItems:"center",children:Object(Ie.jsx)(vt,{})}),Object(Ie.jsx)(U.a,{item:!0,xs:12,children:Object(Ie.jsx)(wt,{})}),Object(Ie.jsx)(U.a,{item:!0,xs:12,sm:12,md:12,children:Object(Ie.jsx)(g.a,{variant:"outlined",className:e.paper,children:Object(Ie.jsx)(Ct,{})})}),Object(Ie.jsx)(U.a,{item:!0,xs:12,sm:12,md:12,children:Object(Ie.jsx)(g.a,{variant:"outlined",className:e.paper,children:Object(Ie.jsx)(At,{})})})]})}function vt(){var e=pe(),t=Object(h.a)(),a=Object(C.a)(t.breakpoints.down("xs"));return Object(Ie.jsx)(Ie.Fragment,{children:Object(Ie.jsxs)(U.a,{container:!0,alignItems:"center",spacing:a?1:2,children:[Object(Ie.jsx)(U.a,{item:!0,xs:12,sm:4,children:Object(Ie.jsx)(at.a,{className:e.landingIcon,children:Object(Ie.jsx)(Ne,{arcColor:t.palette.text.primary})})}),Object(Ie.jsx)(U.a,{item:!0,xs:12,sm:8,children:Object(Ie.jsx)(A.a,{variant:a?"h6":"h4",align:a?"center":"left",children:"A web-based UI for interfacing with AiiDA."})})]})})}Ot.defaultProps={SnackbarComponent:function(e){var t="string"!==typeof e.message?e.message:void 0;return Object(Ie.jsx)(jt.a,Object(j.a)(Object(j.a)({},e.SnackbarProps),{},{message:"string"===typeof e.message?e.message||"":void 0,action:null!=e.action&&Object(Ie.jsx)(ut.a,Object(j.a)(Object(j.a)({color:"secondary",size:"small"},e.ButtonProps),{},{children:e.action})),children:t}))}};var yt=[{name:"Quick Setup",description:"Start AiiDA REST, connect and go",icon:Object(Ie.jsx)(it.a,{}),color:Te},{name:"Access anywhere",description:"Access AiiDA from any cloud/HPC service",icon:Object(Ie.jsx)(ct.a,{}),color:Pe},{name:"Cached queries",description:"Fast access to data as you work",icon:Object(Ie.jsx)(st.a,{}),color:Ue},{name:"Persisted inputs",description:"Key fields saved over page changes and multiple sessions",icon:Object(Ie.jsx)(N.a,{}),color:Te},{name:"Optimade Integration",description:"For structure searching and visualisation",icon:Object(Ie.jsx)(Me,{width:200,height:200,singleColor:"black"}),color:Pe},{name:"Mobile Friendly",description:"Responsive layout that adapts to any window size",icon:Object(Ie.jsx)(ot.a,{}),color:Ue},{name:"Dark Mode",description:"Accessed in the menu bar.",icon:Object(Ie.jsx)(R.a,{}),color:Te}];function wt(){return Object(Ie.jsx)(U.a,{container:!0,spacing:1,justify:"center",children:yt.map((function(e){return Object(Ie.jsx)(kt,Object(j.a)({},e))}))})}function kt(e){var t=e.icon,a=e.name,n=e.description,r=e.color,i=pe(),c=Object(h.a)(),s=Object(C.a)(c.breakpoints.down("xs"));return Object(Ie.jsx)(U.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(Ie.jsx)(g.a,{variant:"outlined",className:i.featureCard,children:Object(Ie.jsxs)(x.a,{children:[Object(Ie.jsx)(nt.a,{children:Object(Ie.jsx)(rt.a,{alt:a,style:{color:c.palette.getContrastText(r),backgroundColor:r,width:c.spacing(s?5:7),height:c.spacing(s?5:7),marginRight:c.spacing(2)},children:t})}),Object(Ie.jsx)(m.a,{primary:a,secondary:s?void 0:n})]})})})}function Ct(){var e=pe();return Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)("h2",{id:"getting-started",children:"Getting Started"}),Object(Ie.jsx)("p",{children:"To use this application, you simply need to be able to connect to a running AiiDA REST API server."}),Object(Ie.jsxs)(lt.a,{variant:"outlined",severity:"info",children:[Object(Ie.jsxs)("p",{children:["If you want to try out this app but don't have your own AiiDA profile, you can use this demonstration server:"," ",Object(Ie.jsx)(ft,{href:"https://15.188.110.176:5000/api/v4",children:"https://15.188.110.176:5000/api/v4"})]}),Object(Ie.jsx)("p",{children:"Although note currently you will first need to open this address in a separate tab and accept the security certificate (under Advanced)."})]}),Object(Ie.jsx)("p",{children:"To start a server for your own profile, you must have aiida-core installed with the REST dependencies:"}),Object(Ie.jsx)(dt.a,{language:"bash",children:"$ pip install aiida-core[rest]~=1.6.3"}),Object(Ie.jsx)("p",{children:"Then you can start your REST server:"}),Object(Ie.jsx)(dt.a,{language:"bash",children:"$ verdi -p myprofile restapi\n * REST API running on http://127.0.0.1:5000/api/v4"}),Object(Ie.jsxs)("p",{children:['Take this URL and paste it into the "REST URL" box at the top-right of this page. If a connection is available, then you should see the icon turn to:'," ",Object(Ie.jsx)(B.a,{className:e.InlineIcon})]}),Object(Ie.jsx)("p",{children:"Now try the tabs on the left of this page!"})]})}function At(){return Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)("h2",{children:"Project Details"}),Object(Ie.jsxs)("p",{children:[Object(Ie.jsx)("b",{children:"Source repository:"})," ",Object(Ie.jsx)(ft,{href:"https://github.com/chrisjsewell/react-aiida-app",children:"https://github.com/chrisjsewell/react-aiida-app"})]}),Object(Ie.jsx)("h3",{children:"Project History"}),Object(Ie.jsxs)("p",{children:["This project is a continuation of"," ",Object(Ie.jsx)(ft,{href:"https://github.com/chrisjsewell/jlab_aiidatree",children:"jlab_aiidatree"}),", in which we built a working prototype for a JupyterLab extension to interact with AiiDA."]}),Object(Ie.jsxs)("p",{children:["During development of ",Object(Ie.jsx)("code",{children:"jlab_aiidatree"})," it was noted that you can embed ",Object(Ie.jsx)("a",{href:"https://reactjs.org/",children:"React components"})," inside of JupyterLab (see"," ",Object(Ie.jsx)(ft,{href:"https://jupyterlab.readthedocs.io/en/stable/extension/virtualdom.html",children:"JupyterLab/React"}),")."]}),Object(Ie.jsx)("p",{children:"The goal, therefore, is that we can develop this package as a standalone app (which could also be utilised directly via a web server), but also use it as a dependency to generate most of the JupyterLab extension, via React components."}),Object(Ie.jsx)("p",{children:"The benefit of also using th app within JupyterLab, is:"}),Object(Ie.jsxs)("ol",{type:"1",children:[Object(Ie.jsx)("li",{children:"It provides a platform within which to run the app locally, without having to host it directly"}),Object(Ie.jsx)("li",{children:"It allows us an alternate route to interface with AiiDA: via the \u201cprivate\u201d REST API interface between the JupyterLab backend and frontend. Using this REST API, will allow us easy access to parts of the AiiDA API that are yet to be exposed in REST, whilst maintaining that formal protocol (enforcing separation of concerns). We can then use this to essentially prototype additions to the AiiDA REST API."}),Object(Ie.jsx)("li",{children:"It provides the possible to integrate with other aspects of the Jupyter framework (e.g.\xa0Notebooks)"})]}),Object(Ie.jsxs)("p",{children:["Alongside work on an"," ",Object(Ie.jsx)(ft,{href:"https://github.com/aiidateam/AEP/pull/24",children:"Extended REST API"}),", it is hoped that this will offer not just ways to explore your profiles, but also to actively interact them: creating/adding to groups, composing/running workchains, etc."]}),Object(Ie.jsx)("h3",{id:"about-react",children:"App Technologies"}),Object(Ie.jsx)("p",{children:"AiiDA Dashboard uses React, an industry leading library, for creating beautiful and responsive UIs, maintained by Facebook and with users including Whatsapp, Dropbox, Uber and Netflix. We also utilise other \u201cbest-practice\u201d React components:"}),Object(Ie.jsxs)("ul",{children:[Object(Ie.jsxs)("li",{children:[Object(Ie.jsx)(ft,{href:"https://material-ui.com",children:"Material-UI"}),": A React component library that implements Google\u2019s"," ",Object(Ie.jsx)(ft,{href:"https://material.io/design",children:"Material Design guidelines"})]}),Object(Ie.jsxs)("li",{children:[Object(Ie.jsx)(ft,{href:"https://react-query.tanstack.com/",children:"react-query"}),": A React component for synchronizing server data (from AiiDA) with the UI."]})]}),Object(Ie.jsxs)("p",{children:["React itself is really user-friendly to get started with, even with only a small familiarity with HTML and JavaScript, see"," ",Object(Ie.jsx)(ft,{href:"https://reactjs.org/tutorial/tutorial.html",children:"https://reactjs.org/tutorial/tutorial.html"}),". Once learned, it is also incredibly intuitive to generate web elements with, using the"," ",Object(Ie.jsxs)(ft,{href:"https://reactjs.org/docs/introducing-jsx.html",children:[Object(Ie.jsx)("code",{children:".jsx"})," file format"]}),". For example a simple React component would look like:"]}),Object(Ie.jsx)(dt.a,{language:"jsx",children:"function MyComponent(props) {\n  return (\n    <div>\n      <h1>Hello, world!</h1>\n      <p>Here is a dynamic value: {props.value}</p>\n    </div>\n  )\n}"}),Object(Ie.jsx)("h3",{id:"this-app-vs-materials-cloud-explore",children:"This app vs Materials Cloud Explore"}),Object(Ie.jsxs)("p",{children:[Object(Ie.jsx)("b",{children:"Update:"})," Materials Cloud is in fact now also looking to move to React."]}),Object(Ie.jsxs)("p",{children:["Note, initial features of this app are quite similar to"," ",Object(Ie.jsx)(ft,{href:"https://www.materialscloud.org/explore/connect",children:"https://www.materialscloud.org/explore/connect"}),": using the AiiDA REST API as a backend for visualising its data. However, this is built with"," ",Object(Ie.jsx)(ft,{href:"https://angularjs.org/",children:"https://angularjs.org/"})," ","which, although also well used in industry, has two major drawbacks for our use case:"]}),Object(Ie.jsxs)("ol",{type:"1",children:[Object(Ie.jsx)("li",{children:"You cannot integrate it with JupyterLab (see benefits above)"}),Object(Ie.jsx)("li",{children:"It does not have the re-usable component infrastructure of React, which should allow us to eventually build an extensible app with \u201cpluggable\u201d extensions."})]}),Object(Ie.jsx)("p",{children:'Materials Cloud is also more focussed on access to pre-existing data (stored in their archive), whereas this application is focussed on interaction with "in-use" databases.'}),Object(Ie.jsx)("h3",{id:"this-app-vs-aiidalab",children:"This app vs AiiDALab"}),Object(Ie.jsxs)("p",{children:[Object(Ie.jsx)(ft,{href:"https://www.materialscloud.org/work/aiidalab",children:"AiiDALab"})," ","uses the Jupyter Notebook server to build its frontend, via"," ",Object(Ie.jsx)(ft,{href:"https://ipywidgets.readthedocs.io",children:"ipywidgets"}),", which dynamically generates the HTML/Javascript from python code cells, and appmode/voila which executes the Notebook on page load, then converts the notebook interface to look more like a web app (hiding code cells, etc). Note, despite its name, it does not use JupyterLab per se."]}),Object(Ie.jsx)("p",{children:"The benefits of this approach, is that:"}),Object(Ie.jsxs)("ol",{type:"1",children:[Object(Ie.jsx)("li",{children:"You can, in theory, code everything in Python/Jupyter Notebooks, the same language which aiida itself is written in (in practice some HTML/JavaScript is required)."}),Object(Ie.jsx)("li",{children:"You can interface directly with the AiiDA Python API"})]}),Object(Ie.jsx)("p",{children:"The disadvantage though are:"}),Object(Ie.jsxs)("ol",{type:"1",children:[Object(Ie.jsx)("li",{children:"AiiDALab is strongly coupled to an aiida python environment, making deployments more complex and costly, compared to the free and unlimited scaling of this apps deployment on Github Pages."}),Object(Ie.jsx)("li",{children:"Because the notebooks must first be executed, then rendered, on every page load, page load times are very poor, negatively impacting the user experience."}),Object(Ie.jsx)("li",{children:"The user interface is restricted by the semantics/layout of the Notebook, i.e.\xa0each app has to be a set of separate pages and in each page you have a set of vertically sequential cells."}),Object(Ie.jsx)("li",{children:"ipywidgets is a relatively niche/bespoke tool (by industry standard), meaning limited user/developer support and existing packages, in comparison to the massive React ecosystem of libraries and components."})]})]})}var _t=a(110),St=a(159),Dt=a(82),It=a(158),Ut=a(625),Pt=a(584),Tt=a(585),Nt=a(65),Rt=a.n(Nt),Lt=a(495),Et=a(186),Mt=a.n(Et),Ft=a(573),Bt=a(577),Wt=a(578),zt=a(574),Ht=a(575),Gt=a(580),Jt=a(581),Vt=a(582),qt=a(583),Yt=a(615),Xt=a(579),$t=a(624),Qt=a(198),Zt=a(187),Kt=a.n(Zt);function ea(e){var t=Object(h.a)(),a=pe(),r=Object(n.useState)(!1),i=Object(d.a)(r,2),c=i[0],s=i[1],o=Object(n.useState)(null),l=Object(d.a)(o,2),j=l[0],u=l[1],b=Object(n.useState)(!1),p=Object(d.a)(b,2),O=p[0],f=p[1],g=e.node_type.split(".").slice(0,2).join("."),v=Re[g||"default"]||Object(Ie.jsx)(xe.a,{}),y="subtitle1",C=Object(Ie.jsx)(A.a,{variant:y,children:"".concat(e.pk," ").concat(e.label||"")});if(e.process){var _=t.palette.primary.main;["excepted","killed"].includes(e.process.state||"")?_=t.palette.error.main:0===e.process.exitStatus&&(_=t.palette.success.main),C=Object(Ie.jsxs)(A.a,{variant:y,children:["".concat(e.pk," ").concat(e.process.label||e.label||""),Object(Ie.jsx)($t.a,{className:a.nodeItemChip,label:0===e.process.exitStatus||e.process.exitStatus?"".concat((e.process.state||"").toUpperCase()," [").concat(e.process.exitStatus,"]"):"".concat((e.process.state||"").toUpperCase()),variant:"outlined",style:{color:_,borderColor:_}})]})}e.link&&(C=Object(Ie.jsx)(A.a,{variant:y,children:"".concat(e.pk," ").concat(e.link.type.toUpperCase()," ").concat(e.link.label)}));var S,D="".concat(e.mtime,", ").concat(e.node_type);return e.process_type&&(D+=", ".concat(e.process_type)),e.child&&(S=Object(Ie.jsx)(Ft.a,{in:O,timeout:"auto",mountOnEnter:!0,unmountOnExit:!0,children:Object(Ie.jsx)(e.child,{uuid:e.uuid,indent:e.indent+4})})),Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(x.a,{button:!0,onClick:function(){f(!O)},style:e.indent?{paddingLeft:t.spacing(e.indent)}:{},children:[Object(Ie.jsx)(nt.a,{children:Object(Ie.jsx)(w.a,{onClick:function(e){e.stopPropagation(),s(!0),u(e.currentTarget)},children:Object(Ie.jsx)(rt.a,{children:v})})}),Object(Ie.jsx)(e.contextMenu,{open:c,uuid:e.uuid,anchorEl:j,handleClose:function(e){e.stopPropagation(),u(null),s(!1)}}),Object(Ie.jsx)(m.a,{className:a.nodeListItem,primary:C,secondary:D}),S?O?Object(Ie.jsx)(zt.a,{style:{marginLeft:t.spacing(1)}}):Object(Ie.jsx)(Ht.a,{style:{marginLeft:t.spacing(1)}}):null]}),S,Object(Ie.jsx)(k.a,{light:!0})]})}function ta(e){var t=e.nodePrefix,a=pe(),r=Object(h.a)(),i=Object(n.useState)(1),c=Object(d.a)(i,2),s=c[0],o=c[1],l=Object(n.useContext)(K),j=Object(G.a)([l.baseUrl,"nodes",t,s],(function(){return function(e,t,a){return te.apply(this,arguments)}(l.baseUrl,t,s)}),{enabled:null!==l.baseUrl,keepPreviousData:!0}),u=Object(Ie.jsx)(Lt.a,{}),b=1;if(j.isIdle||null===j.data)u=Object(Ie.jsx)(lt.a,{severity:"info",icon:Object(Ie.jsx)(Bt.a,{}),children:"Disabled"});else if(void 0!==j.data)b=Math.ceil(j.data.totalCount/j.data.perPage),j.isPreviousData||(u=Object(Ie.jsxs)(f.a,{component:"nav","aria-label":"main aiida tree",children:[Object(Ie.jsx)(k.a,{}),j.data.nodes.map((function(e){var t,a,n,r,i={label:null===(t=e.attributes)||void 0===t?void 0:t.process_label,state:null===(a=e.attributes)||void 0===a?void 0:a.process_state,exitStatus:null===(n=e.attributes)||void 0===n?void 0:n.exit_status};return Object(Ie.jsx)(ea,{pk:e.id,uuid:e.uuid,mtime:e.mtime,node_type:e.node_type,process_type:e.process_type,label:e.label,process:(null===(r=e.attributes)||void 0===r?void 0:r.process_state)?i:void 0,child:aa},"aiida-tree-el-".concat(e.uuid))}))]}));else if(j.isError){var p=j.error;u=Object(Ie.jsx)(lt.a,{severity:"error",children:p.message}),o(1)}var x=null;if(j.dataUpdatedAt){var O=new Date(j.dataUpdatedAt);x=Object(Ie.jsxs)(A.a,{display:"inline",noWrap:!0,children:["Updated: ",O.toLocaleString()]})}return Object(Ie.jsxs)("div",{className:a.nodeTree,children:[Object(Ie.jsx)(ut.a,{variant:"outlined",color:"default",style:{marginRight:r.spacing(1)},startIcon:Object(Ie.jsx)(Wt.a,{}),onClick:function(){j.refetch()},children:"Refresh"}),x,Object(Ie.jsx)(Yt.a,{disabled:j.isPreviousData,className:a.pagination,color:"primary",count:b,page:s,onChange:function(e,t){o(t)}}),u]})}function aa(e){var t,a,r,i=e.uuid,c=e.indent,s=Object(h.a)(),o=Object(n.useContext)(K),l=Object(G.a)([o.baseUrl,"nodeRepolist",i],(function(){return function(e,t){return ie.apply(this,arguments)}(o.baseUrl,i)}),{enabled:null!==o.baseUrl}),d=Object(G.a)([o.baseUrl,"nodeIncoming",i],(function(){return ce(o.baseUrl,i)}),{enabled:null!==o.baseUrl}),j=Object(G.a)([o.baseUrl,"nodeOutgoing",i],(function(){return oe(o.baseUrl,i)}),{enabled:null!==o.baseUrl}),u={marginLeft:s.spacing(c+4)};return Object(Ie.jsxs)(f.a,{component:"div",disablePadding:!0,children:[(null===(t=l.data)||void 0===t?void 0:t.length)?Object(Ie.jsx)(na,{data:l.data,indent:c+4}):l.isError?Object(Ie.jsx)(lt.a,{severity:"error",style:u,children:"Repository error: ".concat(l.error)}):null,(null===(a=d.data)||void 0===a?void 0:a.length)?Object(Ie.jsx)(ra,{direction:"incoming",data:d.data,indent:c+4}):d.isError?Object(Ie.jsx)(lt.a,{severity:"error",style:u,children:"Incoming error: ".concat(d.error)}):null,(null===(r=j.data)||void 0===r?void 0:r.length)?Object(Ie.jsx)(ra,{direction:"outgoing",data:j.data,indent:c+4}):j.isError?Object(Ie.jsx)(lt.a,{severity:"error",style:u,children:"Outgoing error: ".concat(j.error)}):null,l.isLoading||d.isLoading||j.isLoading?Object(Ie.jsx)(A.a,{variant:"h3",children:Object(Ie.jsx)(Xt.a,{style:u})}):null]})}function na(e){var t=e.data,a=e.indent,r=Object(h.a)(),i=Object(n.useState)(!1),c=Object(d.a)(i,2),s=c[0],o=c[1];return Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(x.a,{button:!0,onClick:function(){o(!s)},style:a?{paddingLeft:r.spacing(a)}:{},children:[Object(Ie.jsx)(O.a,{children:Object(Ie.jsx)(Oe.a,{})}),Object(Ie.jsx)(m.a,{primary:"Repository"}),s?Object(Ie.jsx)(zt.a,{}):Object(Ie.jsx)(Ht.a,{})]}),Object(Ie.jsx)(Ft.a,{in:s,children:Object(Ie.jsx)(f.a,{component:"nav","aria-label":"main aiida repo",children:t.map((function(e){return Object(Ie.jsxs)(x.a,{style:{paddingLeft:r.spacing(a+4)},children:[Object(Ie.jsx)(O.a,{children:"DIRECTORY"===e.type?Object(Ie.jsx)(Gt.a,{}):Object(Ie.jsx)(Jt.a,{})}),Object(Ie.jsx)(m.a,{primary:e.name})]})}))})})]})}function ra(e){var t=e.direction,a=e.data,r=e.indent,i=Object(h.a)(),c=Object(n.useState)(!1),s=Object(d.a)(c,2),o=s[0],l=s[1];return Object(Ie.jsxs)(Ie.Fragment,{children:[" ",Object(Ie.jsxs)(x.a,{button:!0,onClick:function(){l(!o)},style:r?{paddingLeft:i.spacing(r)}:{},children:[Object(Ie.jsx)(O.a,{children:"incoming"===t?Object(Ie.jsx)(Vt.a,{}):Object(Ie.jsx)(qt.a,{})}),Object(Ie.jsx)(m.a,{primary:t,style:{textTransform:"capitalize"}}),o?Object(Ie.jsx)(zt.a,{}):Object(Ie.jsx)(Ht.a,{})]}),Object(Ie.jsx)(Ft.a,{in:o,children:Object(Ie.jsx)(f.a,{component:"nav","aria-label":"main aiida links",children:a.map((function(e){return Object(Ie.jsx)(ea,{pk:e.id,uuid:e.uuid,mtime:e.mtime,node_type:e.node_type,process_type:e.process_type,label:e.label,link:{direction:t,type:e.link_type,label:e.link_label},indent:r+2},"aiida-tree-el-".concat(e.uuid))}))})})]})}function ia(){var e=pe(),t=pt(qe,""),a=Object(d.a)(t,2),n=a[0],r=a[1],i=pt(Ye,null),c=Object(d.a)(i,2),s=c[0],o=c[1],l=pt(Xe,["intro"]),j=Object(d.a)(l,2),u=j[0],b=j[1];function p(e,t){var a=new Set(u);t?a.add(e):a.delete(e),b(Array.from(a))}return Object(Ie.jsxs)(U.a,{container:!0,spacing:2,className:e.mainGrid,direction:"row-reverse",children:[Object(Ie.jsx)(U.a,{item:!0,xs:12,sm:12,md:6,children:Object(Ie.jsxs)(g.a,{variant:"outlined",className:e.paper,children:[Object(Ie.jsxs)(Ut.a,{defaultExpanded:u.includes("intro"),onChange:function(e,t){p("intro",t)},children:[Object(Ie.jsx)(Pt.a,{classes:{content:e.accordSumContent},expandIcon:Object(Ie.jsx)(Rt.a,{}),children:Object(Ie.jsx)("h2",{children:"AiiDA Node Explorer"})}),Object(Ie.jsx)(Tt.a,{children:Object(Ie.jsx)(ca,{})})]}),Object(Ie.jsxs)(Ut.a,{defaultExpanded:u.includes("filters"),onChange:function(e,t){p("filters",t)},children:[Object(Ie.jsx)(Pt.a,{classes:{content:e.accordSumContent},expandIcon:Object(Ie.jsx)(Rt.a,{}),children:Object(Ie.jsx)("h2",{children:"Filters"})}),Object(Ie.jsx)(Tt.a,{children:Object(Ie.jsx)(oa,{nodePrefix:n,setnodePrefix:r})})]}),Object(Ie.jsxs)(Ut.a,{defaultExpanded:u.includes("fields"),onChange:function(e,t){p("fields",t)},children:[Object(Ie.jsx)(Pt.a,{classes:{content:e.accordSumContent},expandIcon:Object(Ie.jsx)(Rt.a,{}),children:Object(Ie.jsx)("h2",{children:"Database Fields"})}),Object(Ie.jsx)(Tt.a,{className:e.overflowAuto,children:Object(Ie.jsx)(la,{nodeFieldsUUID:s,setnodeFieldsUUID:o})})]}),Object(Ie.jsxs)(Ut.a,{defaultExpanded:u.includes("files"),onChange:function(e,t){p("files",t)},children:[Object(Ie.jsx)(Pt.a,{classes:{content:e.accordSumContent},expandIcon:Object(Ie.jsx)(Rt.a,{}),children:Object(Ie.jsx)("h2",{children:"File Contents"})}),Object(Ie.jsx)(Tt.a,{children:"TODO ..."})]})]})}),Object(Ie.jsx)(U.a,{item:!0,xs:12,sm:12,md:6,children:Object(Ie.jsx)(g.a,{variant:"outlined",className:e.paper,children:Object(Ie.jsx)(ta,{nodePrefix:n})})})]})}function ca(){return Object(Ie.jsxs)("div",{children:[Object(Ie.jsxs)("p",{children:["The node explorer allows you to visualise the nodes in your AiiDA profile as a filtered tree. Click on the right-hand ",Object(Ie.jsx)("code",{children:"^"})," to reveal its child links."]}),Object(Ie.jsx)("p",{children:"Use the filter section below to select which node type you want to explore."}),Object(Ie.jsxs)("p",{children:["You can click on a node's icon to see additional actions, including bookmarking the node (see ",Object(Ie.jsx)(mt,{to:ze,children:"Node groups"}),') and copying its UUID to the clipboard. You can use the UUID to show all of if its content in the "Database Fields" section.']})]})}ea.defaultProps={contextMenu:function(e){var t=e.open,a=e.uuid,r=e.anchorEl,i=e.handleClose,c=Object(n.useContext)(xt);return Object(Ie.jsxs)(Qt.a,{keepMounted:!0,open:t,onClose:i,anchorEl:r,getContentAnchorEl:null,anchorOrigin:{vertical:"center",horizontal:"center"},children:[Object(Ie.jsx)(Dt.a,{onClick:function(e){e.stopPropagation(),Kt()("".concat(a)),c(Object(Ie.jsx)(lt.a,{severity:"success",children:"Copied ".concat(a)})),i(e)},children:"Copy UUID to Clipboard"}),Object(Ie.jsx)(Dt.a,{onClick:function(e){var t=new Set;try{var n=window.localStorage.getItem(Ve);if(!n)throw new Error;t=new Set(JSON.parse(n))}catch(r){}t.add(a),window.localStorage.setItem(Ve,JSON.stringify(Array.from(t))),c(Object(Ie.jsx)(lt.a,{severity:"success",children:"Bookmarked ".concat(a)})),i(e)},children:"Bookmark UUID"}),Object(Ie.jsx)(Dt.a,{onClick:i,children:Object(Ie.jsx)("b",{children:"Close"})})]})},indent:0};var sa={"":null,"data.":null,"data.array.":null,"data.bool.":null,"data.cif.":null,"data.code.":null,"data.dict.":null,"data.float.":null,"data.folder.":null,"data.int.":null,"data.list.":null,"data.numeric.":null,"data.orbital.":null,"data.remote.":null,"data.structure.":null,"process.":null,"process.calculation.":null,"process.workflow.":null};function oa(e){var t=e.nodePrefix,a=e.setnodePrefix,r=Object(n.useContext)(K),i=Object(G.a)([r.baseUrl,"statistics"],(function(){return function(e){return ae.apply(this,arguments)}(r.baseUrl)}),{enabled:null!==r.baseUrl}),c=sa;return i.data&&((c=i.data.types)[""]=i.data.total,c["data."]=null,c["process."]=null,c["process.calculation."]=null,c["process.workflow."]=null),Object(Ie.jsx)(Ie.Fragment,{children:Object(Ie.jsxs)(_t.a,{fullWidth:!0,children:[Object(Ie.jsx)(St.a,{id:"node-prefix-select-label",children:"Node Type Prefix"}),Object(Ie.jsx)(It.a,{labelId:"node-prefix-select-label",id:"node-prefix-select",value:t,onChange:function(e){a(e.target.value)},children:Object.entries(c).sort().map((function(e){var t=Object(d.a)(e,2),a=t[0],n=t[1];return Object(Ie.jsx)(Dt.a,{value:a,children:null===n?a:"".concat(a||"ALL"," (").concat(n,")")})}))})]})})}function la(e){var t=e.nodeFieldsUUID,a=e.setnodeFieldsUUID,r=pe(),i=Object(n.useContext)(K),c=Object(G.a)([i.baseUrl,"node",t],(function(){return ne(i.baseUrl,t)}),{enabled:null!==i.baseUrl}),s=null;return c.data?s=Object(Ie.jsx)(Mt.a,{src:c.data,collapseStringsAfterLength:40}):c.isFetching&&(s=Object(Ie.jsx)(Lt.a,{})),Object(Ie.jsxs)(U.a,{container:!0,children:[Object(Ie.jsx)(U.a,{item:!0,xs:12,children:Object(Ie.jsx)(D.a,{label:"UUID",value:t,onChange:function(e){a(e.target.value)},error:!!c.error,helperText:c.error?"".concat(c.error):void 0,fullWidth:!0})}),Object(Ie.jsx)(U.a,{item:!0,xs:12,className:r.padTop,children:s})]})}var da=a(627),ja=a(25),ua=a(197),ba=a(621),pa=a(191);function ha(e){var t=e.nodeUUID,a=e.dagMode,r=e.dagLevelDistance,i=Object(h.a)(),c=Object(n.useRef)(),s=Object(n.useContext)(K),o=Object(G.a)([s.baseUrl,"nodeIncoming",t],(function(){return ce(s.baseUrl,t)}),{enabled:null!==s.baseUrl}),l=Object(G.a)([s.baseUrl,"nodeOutgoing",t],(function(){return oe(s.baseUrl,t)}),{enabled:null!==s.baseUrl});Object(n.useEffect)((function(){var e=c.current;void 0!==e&&(e.d3Force("charge",null),e.d3Force("collision",Object(ba.a)(15)))}),[o,l]);var d=[{id:"root",name:"root",label:"ROOT",val:2,color:"red",fillColor:i.palette.action.selected}],j=[];o.data&&(d.push.apply(d,Object(ja.a)(o.data.map((function(e){return xa(e,i)})))),j.push.apply(j,Object(ja.a)(o.data.map((function(e){return{target:"root",source:"".concat(e.id),name:"".concat(e.link_label),color:i.palette.text.secondary}}))))),l.data&&(d.push.apply(d,Object(ja.a)(l.data.map((function(e){return xa(e,i)})))),j.push.apply(j,Object(ja.a)(l.data.map((function(e){return{source:"root",target:"".concat(e.id),name:"".concat(e.link_label),color:i.palette.text.secondary}})))));var u={nodes:d,links:j};return Object(Ie.jsx)(pa.SizeMe,{children:function(e){var t=e.size;return Object(Ie.jsx)(ua.a,{ref:c,graphData:u,width:null===t.width?void 0:t.width,height:null===t.height?void 0:t.height,dagMode:a,dagLevelDistance:r,nodeCanvasObject:Oa,linkDirectionalArrowLength:3.5,linkDirectionalArrowRelPos:1})}})}function xa(e,t){var a=e.node_type.split(".");return a.pop(),{id:"".concat(e.id),name:"".concat(e.id).concat(e.process_type?", "+e.process_type:""),label:a.pop(),val:40,color:"dark"===t.palette.type?t.palette.primary.light:t.palette.primary.dark,fillColor:t.palette.action.selected}}function Oa(e,t,a){var n="".concat(e.label||""),r=12/a;t.font="".concat(r,"px Sans-Serif");var i=[t.measureText(n).width,r].map((function(e){return e+.5*r}));t.textAlign="center",t.textBaseline="middle",t.strokeStyle="rgba(0, 0, 0, 0.1)",void 0!==e.x&&void 0!==e.y&&(e.fillColor&&(t.fillStyle=e.fillColor,t.fillRect(e.x-i[0]/2,e.y-i[1]/2,i[0],i[1])),t.strokeRect(e.x-i[0]/2,e.y-i[1]/2,i[0],i[1]),t.fillStyle=e.color||"white",t.fillText(n,e.x,e.y)),e.__bckgDimensions=i}function ma(){var e=pe(),t=pt($e,null),a=Object(d.a)(t,2),n=a[0],r=a[1],i=pt(Qe,"lr"),c=Object(d.a)(i,2),s=c[0],o=c[1],l=pt(Ze,50),j=Object(d.a)(l,2),u=j[0],b=j[1];return Object(Ie.jsxs)(U.a,{container:!0,spacing:2,className:e.mainGrid,direction:"row-reverse",children:[Object(Ie.jsx)(U.a,{item:!0,xs:12,sm:12,md:6,children:Object(Ie.jsx)(g.a,{variant:"outlined",className:e.paper,children:Object(Ie.jsxs)(Ut.a,{defaultExpanded:!0,children:[Object(Ie.jsx)(Pt.a,{classes:{content:e.accordSumContent},expandIcon:Object(Ie.jsx)(Rt.a,{}),children:Object(Ie.jsx)("h2",{children:"Provenance Graph Visualisation"})}),Object(Ie.jsx)(Tt.a,{children:Object(Ie.jsx)(fa,{})})]})})}),Object(Ie.jsx)(U.a,{item:!0,xs:12,sm:12,md:6,children:Object(Ie.jsxs)(g.a,{variant:"outlined",className:e.paper,children:[Object(Ie.jsx)(D.a,{label:"Root UUID",value:n||"",onChange:function(e){r(e.target.value)},error:!!n&&!Z.test(n),fullWidth:!0}),Object(Ie.jsxs)(_t.a,{fullWidth:!0,children:[Object(Ie.jsx)(St.a,{id:"dag-mode-select-label",children:"DAG Mode"}),Object(Ie.jsx)(It.a,{labelId:"dag-mode-select-label",id:"dag-mode-select",value:s,onChange:function(e){o(e.target.value)},children:["td","bu","lr","rl","radialout","radialin"].map((function(e){return Object(Ie.jsx)(Dt.a,{value:e,children:e})}))}),Object(Ie.jsx)(A.a,{id:"discrete-slider",gutterBottom:!0,children:"DAG Level Distance"}),Object(Ie.jsx)(da.a,{defaultValue:u,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:10,marks:!0,min:10,max:200,onChange:function(e,t){b(t)}})]}),Object(Ie.jsx)(ha,{nodeUUID:n,dagMode:s,dagLevelDistance:u})]})})]})}function fa(){return Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)("p",{children:"This is a work in progress!"}),Object(Ie.jsxs)("p",{children:["Input a root node UUID (you can copy one from the"," ",Object(Ie.jsx)(mt,{to:We,children:"Node explorer"}),") and you will see a visualisation of its local provenance graph."]}),Object(Ie.jsx)("p",{children:"Hover over a node or link to see more information about it (you may have to click on the area first)."}),Object(Ie.jsx)("p",{children:"Eventually it is intended to add features like click-to-expand."})]})}var ga=a(71),va=a(618),ya=a(592),wa=a(497),ka=a(207),Ca=a(192),Aa=a(66),_a=a(138),Sa=a.n(_a),Da=a(11);function Ia(e){return Object(Aa.a)(Da.Vector3,Object(ja.a)(e)).length().toFixed(2)}function Ua(e){return e.reduce((function(e,t){return e[t.name]=t.symbols.length?t.symbols[0]:"XX",e}),{})}function Pa(e){return Object(Aa.a)(Da.Color,Object(ja.a)(Sa()(Ta,e,[1,0,1,0]).slice(1,4)))}var Ta={XX:[.8,.3,.3,.3],H:[.46,1,.8,.8],He:[1.22,.98907,.91312,.81091],Li:[1.57,.52731,.87953,.4567],Be:[1.12,.37147,.8459,.48292],B:[.81,.1249,.63612,.05948],C:[.77,.5043,.28659,.16236],N:[.74,.69139,.72934,.9028],O:[.74,.99997,.01328,0],F:[.72,.69139,.72934,.9028],Ne:[1.6,.99954,.21788,.71035],Na:[1.91,.97955,.86618,.23787],Mg:[1.6,.98773,.48452,.0847],Al:[1.43,.50718,.70056,.84062],Si:[1.18,.10596,.23226,.98096],P:[1.1,.75557,.61256,.76425],S:[1.04,1,.98071,0],Cl:[.99,.19583,.98828,.01167],Ar:[1.92,.81349,.99731,.77075],K:[2.35,.63255,.13281,.96858],Ca:[1.97,.35642,.58863,.74498],Sc:[1.64,.71209,.3893,.67279],Ti:[1.47,.47237,.79393,1],V:[1.35,.9,.1,0],Cr:[1.29,0,0,.62],Mn:[1.37,.66148,.03412,.62036],Fe:[1.26,.71051,.44662,.00136],Co:[1.25,0,0,.68666],Ni:[1.25,.72032,.73631,.74339],Cu:[1.28,.1339,.28022,.86606],Zn:[1.37,.56123,.56445,.50799],Ga:[1.53,.62292,.89293,.45486],Ge:[1.22,.49557,.43499,.65193],As:[1.21,.45814,.81694,.34249],Se:[1.04,.6042,.93874,.06122],Br:[1.14,.49645,.19333,.01076],Kr:[1.98,.98102,.75805,.95413],Rb:[2.5,1,0,.6],Sr:[2.15,0,1,.15259],Y:[1.82,.40259,.59739,.55813],Zr:[1.6,0,1,0],Nb:[1.47,.29992,.70007,.46459],Mo:[1.4,.70584,.52602,.68925],Tc:[1.35,.80574,.68699,.79478],Ru:[1.34,.81184,.72113,.68089],Rh:[1.34,.80748,.82205,.67068],Pd:[1.37,.75978,.76818,.72454],Ag:[1.44,.72032,.73631,.74339],Cd:[1.52,.95145,.12102,.86354],In:[1.67,.84378,.50401,.73483],Sn:[1.58,.60764,.56052,.72926],Sb:[1.41,.84627,.51498,.31315],Te:[1.37,.67958,.63586,.32038],I:[1.33,.55914,.122,.54453],Xe:[2.18,.60662,.63218,.97305],Cs:[2.72,.05872,.99922,.72578],Ba:[2.24,.11835,.93959,.17565],La:[1.88,.3534,.77057,.28737],Ce:[1.82,.82055,.99071,.02374],Pr:[1.82,.9913,.88559,.02315],Nd:[1.82,.98701,.5556,.02744],Pm:[1.81,0,0,.96],Sm:[1.81,.99042,.02403,.49195],Eu:[2.06,.98367,.03078,.83615],Gd:[1.79,.75325,.01445,1],Tb:[1.77,.44315,.01663,.99782],Dy:[1.77,.1939,.02374,.99071],Ho:[1.76,.02837,.25876,.98608],Er:[1.75,.28688,.45071,.23043],Tm:[1,0,0,.88],Yb:[1.94,.15323,.99165,.95836],Lu:[1.72,.15097,.99391,.71032],Hf:[1.59,.70704,.70552,.3509],Ta:[1.47,.71952,.60694,.33841],W:[1.41,.55616,.54257,.50178],Re:[1.37,.70294,.69401,.55789],Os:[1.35,.78703,.69512,.47379],Ir:[1.36,.78975,.81033,.45049],Pt:[1.39,.79997,.77511,.75068],Au:[1.44,.99628,.70149,.22106],Hg:[1.55,.8294,.72125,.79823],Tl:[1.71,.58798,.53854,.42649],Pb:[1.75,.32386,.32592,.35729],Bi:[1.82,.82428,.18732,.97211],Po:[1.77,0,0,1],At:[.62,0,0,1],Rn:[.8,1,1,0],Fr:[1,0,0,0],Ra:[2.35,.42959,.66659,.34786],Ac:[2.03,.39344,.62101,.45034],Th:[1.8,.14893,.99596,.47106],Pa:[1.63,.16101,.98387,.20855],U:[1.56,.47774,.63362,.66714],Np:[1.56,.3,.3,.3],Pu:[1.64,.3,.3,.3],Am:[1.73,.3,.3,.3]},Na=a(80),Ra=a(630),La=a(588),Ea=a(619);function Ma(e){var t=Object(h.a)();return Object(Ie.jsxs)(Na.a,{className:"structure-3d-viewer",style:{height:e.height,width:e.width},children:[Object(Ie.jsx)(Ra.a,{}),Object(Ie.jsx)("ambientLight",{castShadow:!0}),Object(Ie.jsx)("pointLight",{position:[10,10,10]}),Object(Ie.jsx)(La.a,{alignTop:!1,children:Object(Ie.jsx)(Fa,{data:e.data,images:e.images,withBox:e.withBox,boxColor:t.palette.text.primary})})]})}function Fa(e){var t=Object(d.a)(e.data.cell,3),a=Object(d.a)(t[0],3),n=a[0],r=a[1],i=a[2],c=Object(d.a)(t[1],3),s=c[0],o=c[1],l=c[2],j=Object(d.a)(t[2],3),u=j[0],b=j[1],p=j[2],h=e.data.sites,x=Ua(e.data.kinds),O=null;return e.withBox&&(O=Object(Ie.jsx)(Ie.Fragment,{children:e.images.map((function(t){var a=Object(d.a)(t,3),c=a[0],j=a[1],h=a[2],x=[[n+n*c,r+r*c,i+i*c],[s+s*j,o+o*j,l+l*j],[u+u*h,b+b*h,p+p*h]];return Object(Ie.jsx)(za,{cell:x,color:e.boxColor})}))})),Object(Ie.jsxs)(Ie.Fragment,{children:[O,e.images.map((function(e){var t=Object(d.a)(e,3),a=t[0],c=t[1],j=t[2];return h.map((function(e){var t,h=Object(d.a)(e.position,3),O=h[0],m=h[1],f=h[2];return Object(Ie.jsx)(Ba,{position:new Da.Vector3(O+n*a+s*c+u*j,m+r*a+o*c+b*j,f+i*a+l*c+p*j),radius:(t=x[e.kind_name],Sa()(Ta,t,[1])[0]),color:Pa(x[e.kind_name])})}))}))]})}function Ba(e){var t=Object(n.useRef)();return Object(Ie.jsxs)("mesh",{ref:t,position:e.position,children:[Object(Ie.jsx)("sphereBufferGeometry",{args:[e.radius,30,30]}),Object(Ie.jsx)("meshLambertMaterial",{color:e.color,transparent:!0,opacity:e.opacity})]})}function Wa(e,t){return new Da.Vector3(e.x+t.x,e.y+t.y,e.z+t.z)}function za(e){var t=e.cell,a=e.color,n=new Da.Vector3(0,0,0),r=Object(Aa.a)(Da.Vector3,Object(ja.a)(t[0])),i=Object(Aa.a)(Da.Vector3,Object(ja.a)(t[1])),c=Object(Aa.a)(Da.Vector3,Object(ja.a)(t[2]));return Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsx)(Ea.a,{points:[n,r,Wa(r,c),c,n,i,Wa(i,r),Wa(Wa(i,r),c),Wa(i,c),i,n],color:a,lineWidth:1,transparent:!0,opacity:.9,dashed:!0}),Object(Ie.jsx)(Ea.a,{points:[c,Wa(i,c)],color:a,lineWidth:1,dashed:!0}),Object(Ie.jsx)(Ea.a,{points:[Wa(r,c),Wa(Wa(i,r),c)],color:a,lineWidth:1,dashed:!0})]})}Ma.defaultProps={withBox:!0,images:[[0,0,0]]},Fa.defaultProps={withBox:!0,images:[[0,0,0]]},Ba.defaultProps={radius:1,color:"blue",opacity:.9},za.defaultProps={color:"black"};var Ha=a(195);function Ga(e){var t=e.data,a=Object(h.a)(),n=Ua(t.kinds),r=[{field:"element",headerName:"Element",width:140,renderCell:function(e){var t=function(e){var t=Object(Aa.a)(Da.Color,Object(ja.a)(Sa()(Ta,e,[1,0,1,0]).slice(1,4)));return"rgb(".concat(255*t.r,",").concat(255*t.g,",").concat(255*t.b,")")}("".concat(e.value));return Object(Ie.jsx)(rt.a,{style:{backgroundColor:t,color:a.palette.getContrastText(t)},children:e.value})}},{field:"kind",headerName:"Kind",width:120},{field:"x",headerName:"X",type:"number"},{field:"y",headerName:"Y",type:"number"},{field:"z",headerName:"Z",type:"number"}],i=t.sites.map((function(e,t){return{id:t,element:n[e.kind_name],kind:e.kind_name,x:e.position[0],y:e.position[0],z:e.position[0]}}));return Object(Ie.jsx)("div",{style:{width:"100%"},className:"structure-table",children:Object(Ie.jsx)(Ha.a,{autoHeight:!0,rows:i,columns:r})})}var Ja=a(4),Va=a(9),qa={cod:"https://www.crystallography.net/cod/optimade",omdb:"http://optimade.openmaterialsdb.se/",tcod:"https://www.crystallography.net/tcod/optimade",oqmd:"http://oqmd.org/optimade",odbx:"https://optimade.odbx.science"},Ya=new RegExp("^[\\sa-zA-Z0-9]+$");function Xa(e,t){return e.replace(/\/$/,"")+"/"+t.replace(/^\//,"")}function $a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://cors.optimade.org/";return Xa(t,e.replace(/^https?:\/\//,""))}function Qa(e){return e.data.reduce((function(e,t){return e[t.id]=t,e}),{})}var Za=function(){function e(t){Object(Ja.a)(this,e),this.providers=Ka,this.versionPath=void 0,t&&(this.providers=t),this.versionPath=function(e){var t;return(null===(t=e.meta)||void 0===t?void 0:t.api_version)?"/v".concat(e.meta.api_version.charAt(0)):""}(this.providers)}return Object(Va.a)(e,[{key:"getStructureProviders",value:function(){var e=Object(Y.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Qa(this.providers),e.abrupt("return",new Promise((function(e){e(Object.keys(qa).map((function(e){return t[e]})))})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getStructures",value:function(){var e=Object(Y.a)(q.a.mark((function e(t){var a,n,r,i,c,s,o,l,d,j,u,b=arguments;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=b.length>1&&void 0!==b[1]?b[1]:null,r=b.length>2&&void 0!==b[2]&&b[2],i=b.length>3&&void 0!==b[3]?b[3]:1,c=b.length>4&&void 0!==b[4]?b[4]:10,t){e.next=6;break}return e.abrupt("return",{structures:[]});case 6:return s=$a(qa[t]),o=Xa(Xa(s,this.versionPath),"/structures"),l="",n&&(Ya.test(n)?l=r?"&filter=chemical_formula_descriptive%20=%20%22".concat(n,"%22"):"&filter=chemical_formula_descriptive%20CONTAINS%20%22".concat(n,"%22"):console.error("Formula filter disallowed: ".concat(n))),d="last_modified,dimension_types,nsites,chemical_formula_descriptive",e.next=13,fetch("".concat(o,"?page_number=").concat(i,"&page_limit=").concat(c).concat(l,"&sort=attributes.chemical_formula_descriptive&response_fields=").concat(d),{headers:{origin:"https://chrisjsewell.github.io/react-aiida-app"}});case 13:return j=e.sent,e.next=16,j.json();case 16:return u=e.sent,e.abrupt("return",{url:j.url,structures:u.data,total:null===u||void 0===u||null===(a=u.meta)||void 0===a?void 0:a.data_returned});case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getStructureView",value:function(){var e=Object(Y.a)(q.a.mark((function e(t,a){var n,r,i,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&a){e.next=2;break}return e.abrupt("return",null);case 2:return n=$a(qa[t]),r=Xa(Xa(n,this.versionPath),"/structures/".concat(a)),"dimension_types,lattice_vectors,cartesian_site_positions,species,species_at_sites",e.next=7,fetch("".concat(r,"?response_fields=").concat("dimension_types,lattice_vectors,cartesian_site_positions,species,species_at_sites"),{headers:{origin:"https://chrisjsewell.github.io/react-aiida-app"}});case 7:return i=e.sent,e.next=10,i.json();case 10:return c=e.sent,e.abrupt("return",{url:i.url,data:c});case 12:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),Ka={meta:{api_version:"1.0.0",query:{representation:"/links"},more_data_available:!1,schema:"https://schemas.optimade.org/openapi/v1.0/optimade_index.json",data_returned:0,data_available:0},data:[{type:"links",id:"aiida",attributes:{name:"AiiDA",description:"Automated Interactive Infrastructure and Database for Computational Science (AiiDA)",base_url:null,homepage:"http://www.aiida.net",link_type:"external"}},{type:"links",id:"aflow",attributes:{name:"AFLOW",description:"Automatic FLOW (AFLOW) database for computational materials science",base_url:"https://providers.optimade.org/index-metadbs/aflow",homepage:"http://aflow.org",link_type:"external"}},{type:"links",id:"cod",attributes:{name:"Crystallography Open Database",description:"Open-access collection of crystal structures of organic, inorganic, metal-organics compounds and minerals, excluding biopolymers",base_url:"http://providers.optimade.org/index-metadbs/cod",homepage:"https://www.crystallography.net/cod",link_type:"external"}},{type:"links",id:"exmpl",attributes:{name:"Example provider",description:"Provider used for examples, not to be assigned to a real database",base_url:"http://providers.optimade.org/index-metadbs/exmpl",homepage:"https://example.com",link_type:"external"}},{type:"links",id:"httk",attributes:{name:"The High-Throughput Toolkit",description:"Prefix for implementation-specific identifiers used in the httk implementation at http://httk.org/",base_url:null,homepage:null,link_type:"external"}},{type:"links",id:"matcloud",attributes:{name:"MatCloud",description:"A high-throughput computing platform integrating data, simulation and supercomputing.",base_url:"https://providers.optimade.org/index-metadbs/matcloud",homepage:"http://matcloud.cnic.cn",link_type:"external"}},{type:"links",id:"mcloud",attributes:{name:"Materials Cloud",description:"A platform for Open Science built for seamless sharing of resources in computational materials science",base_url:"https://www.materialscloud.org/optimade",homepage:"https://www.materialscloud.org",link_type:"external"}},{type:"links",id:"mp",attributes:{name:"The Materials Project",description:"An open database of computed materials properties to accelerate materials discovery and design",base_url:"http://providers.optimade.org/index-metadbs/mp",homepage:"https://www.materialsproject.org",link_type:"external"}},{type:"links",id:"mpds",attributes:{name:"Materials Platform for Data Science",description:"A highly curated Pauling File dataset based on ~0.5M publications and backing up Springer Materials, ICDD PDF, ASM APD, MedeA, Pearson Crystal Data, AtomWork Advanced, etc.",base_url:"https://providers.optimade.org/index-metadbs/mpds",homepage:"https://mpds.io",link_type:"external"}},{type:"links",id:"nmd",attributes:{name:"novel materials discovery (NOMAD)",description:"A FAIR data sharing platform for materials science data",base_url:"https://nomad-lab.eu/prod/rae/optimade/index",homepage:"https://nomad-lab.eu",link_type:"external"}},{type:"links",id:"odbx",attributes:{name:"open database of xtals",description:"A public database of crystal structures mostly derived from ab initio structure prediction from the group of Dr Andrew Morris at the University of Birmingham https://ajm143.github.io",base_url:"https://optimade-index.odbx.science",homepage:"https://odbx.science",link_type:"external"}},{type:"links",id:"omdb",attributes:{name:"Open Materials Database",description:"The Open Materials Database (omdb) is a database of materials properties maintained by the developers of the High-Throughput Toolkit (httk). It enables easy access to useful materials data, in particular via programmatic interaction using this toolkit.",base_url:"https://optimade-index.openmaterialsdb.se",homepage:"http://openmaterialsdb.se",link_type:"external"}},{type:"links",id:"optimade",attributes:{name:"OPTIMADE implementations and libraries",description:"Prefix for implementation-specific identifiers used in API implementations and libraries provided at https://github.com/Materials-Consortia",base_url:null,homepage:"https://www.optimade.org",link_type:"external"}},{type:"links",id:"oqmd",attributes:{name:"The Open Quantum Materials Database (OQMD)",description:"The OQMD is a database of DFT calculated thermodynamic and structural properties of materials",base_url:"http://providers.optimade.org/index-metadbs/oqmd",homepage:"http://oqmd.org",link_type:"external"}},{type:"links",id:"jarvis",attributes:{name:"Joint Automated Repository for Various Integrated Simulations (JARVIS)",description:"JARVIS is a repository designed to automate materials discovery using classical force-field, density functional theory, machine learning calculations and experiments.",base_url:null,homepage:"https://jarvis.nist.gov",link_type:"external"}},{type:"links",id:"pcod",attributes:{name:"Predicted Crystallography Open Database",description:"",base_url:null,homepage:null,link_type:"external"}},{type:"links",id:"tcod",attributes:{name:"Theoretical Crystallography Open Database",description:"Open-access collection of theoretically calculated or refined crystal structures of organic, inorganic, metal-organic compounds and minerals, excluding biopolymers",base_url:"http://providers.optimade.org/index-metadbs/tcod",homepage:"https://www.crystallography.net/tcod",link_type:"external"}}]},en=Za;function tn(e){var t=e.initTab,a=r.a.useState(t||0),n=Object(d.a)(a,2),i=n[0],c=n[1];return Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(va.a,{value:i,onChange:function(e,t){c(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"full width tabs example",children:[Object(Ie.jsx)(ya.a,{label:"AiiDA"}),Object(Ie.jsx)(ya.a,{label:"Optimade"})]}),Object(Ie.jsx)(an,{value:i,index:0,children:Object(Ie.jsx)(nn,{})}),Object(Ie.jsx)(an,{value:i,index:1,children:Object(Ie.jsx)(rn,{})})]})}function an(e){var t=e.children,a=e.value,n=e.index,r=Object(ga.a)(e,["children","value","index"]);return Object(Ie.jsx)("div",Object(j.a)(Object(j.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),{},{children:a===n&&Object(Ie.jsx)(at.a,{p:3,children:t})}))}function nn(){var e=pt(Ke,null),t=Object(d.a)(e,2),a=t[0],r=t[1],i=Object(n.useContext)(K),c=Object(G.a)([i.baseUrl,"node",a],(function(){return ne(i.baseUrl,a)}),{enabled:null!==i.baseUrl}),s=null,o=void 0;return c.data?c.data.attributes.cell&&c.data.attributes.sites?s=Object(Ie.jsx)(cn,{node:c.data.attributes}):o="UUID is not a StructureData":c.isLoading?s=Object(Ie.jsx)(Lt.a,{}):c.isError&&(o="".concat(c.error)),Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsx)(D.a,{label:"StructureData UUID",value:a||"",onChange:function(e){r(e.target.value)},error:!!a&&(!Z.test(a)||!!o),helperText:o,fullWidth:!0,style:{paddingBottom:10}}),s]})}function rn(){var e,t=pt(et,""),a=Object(d.a)(t,2),n=a[0],r=a[1],i=pt(tt,""),c=Object(d.a)(i,2),s=c[0],o=c[1],l=Object(G.a)(["optimade","providers"],(function(){return(new en).getStructureProviders()})),j=Object(G.a)(["optimade","structure",n,s],(function(){return(new en).getStructureView(n,s)})),u=[];l.data&&(u=l.data.map((function(e){return Object(Ie.jsx)(Dt.a,{value:e.id,children:e.attributes.name},e.id)})));var b=null,p=void 0;if(null===(e=j.data)||void 0===e?void 0:e.data)try{var h=j.data.data.data,x=h.attributes.dimension_types||[1,1,1],O={cell:h.attributes.lattice_vectors,pbc1:!!x[0],pbc2:!!x[1],pbc3:!!x[2],sites:h.attributes.cartesian_site_positions.map((function(e,t){return{position:e,kind_name:h.attributes.species_at_sites[t]}})),kinds:h.attributes.species.map((function(e){return{name:e.name,mass:e.mass||0,symbols:e.chemical_symbols,weights:e.concentration}}))};b=Object(Ie.jsx)(cn,{node:O})}catch(m){p="Fetch failed: ".concat(m)}else j.isLoading?b=Object(Ie.jsx)(Lt.a,{}):j.isError&&(p="".concat(j.error));return Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(U.a,{container:!0,spacing:4,alignItems:"center",children:[Object(Ie.jsx)(U.a,{item:!0,sm:6,children:Object(Ie.jsxs)(_t.a,{fullWidth:!0,children:[Object(Ie.jsx)(St.a,{id:"optimade-provider-view-select-label",children:"Provider"}),Object(Ie.jsx)(It.a,{id:"optimade-provider-view-select",value:n||"",onChange:function(e){r(e.target.value?e.target.value:"")},children:u})]})}),Object(Ie.jsx)(U.a,{item:!0,sm:6,children:Object(Ie.jsx)(D.a,{label:"Structure ID",value:s,onChange:function(e){o(e.target.value)},error:!!p,helperText:p,fullWidth:!0})})]}),b]})}function cn(e){for(var t,a=e.node,r=Object(n.useState)(!0),i=Object(d.a)(r,2),c=i[0],s=i[1],o=Object(n.useState)(1),l=Object(d.a)(o,2),j=l[0],u=l[1],b=Object(n.useState)(1),p=Object(d.a)(b,2),h=p[0],x=p[1],O=Object(n.useState)(1),m=Object(d.a)(O,2),f=m[0],g=m[1],v=[],y=0,w=Array.from(Array(j).keys());y<w.length;y++)for(var k=w[y],C=0,_=Array.from(Array(h).keys());C<_.length;C++)for(var S=_[C],D=0,I=Array.from(Array(f).keys());D<I.length;D++){var P=I[D];v.push([k,S,P])}var T=Object(n.useState)({height:200,width:200}),N=Object(d.a)(T,2),R=N[0],L=N[1],E=Object(n.useRef)(),M=a.cell;return Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(U.a,{container:!0,spacing:2,children:[Object(Ie.jsx)(sn,{name:"a",value:j,setter:u}),Object(Ie.jsx)(sn,{name:"b",value:h,setter:x}),Object(Ie.jsx)(sn,{name:"c",value:f,setter:g})]}),Object(Ie.jsx)("div",{style:{marginTop:10,marginBottom:void 0},ref:E,children:Object(Ie.jsx)(Ca.ResizableBox,{width:R.width,height:R.height,maxConstraints:[(null===E||void 0===E||null===(t=E.current)||void 0===t?void 0:t.offsetWidth)?E.current.offsetWidth:1/0,1/0],resizeHandles:["s","e","se"],onResize:function(e,t){L({width:t.size.width,height:t.size.height})},children:Object(Ie.jsx)(Ma,{data:a,images:v,withBox:c,width:R.width,height:R.height})})}),Object(Ie.jsxs)(U.a,{container:!0,alignItems:"center",children:[Object(Ie.jsx)(U.a,{item:!0,sm:6,children:Object(Ie.jsx)(wa.a,{control:Object(Ie.jsx)(ka.a,{color:"primary",checked:c,onChange:function(e){s(e.target.checked)}}),label:"Bounding box",labelPlacement:"end"})}),Object(Ie.jsx)(U.a,{item:!0,sm:6,children:Object(Ie.jsxs)(A.a,{align:"right",children:["A: ",Ia(M[0]),"; B: ",Ia(M[1]),"; C:"," ",Ia(M[2])]})})]}),Object(Ie.jsx)(Ga,{data:a})]})}function sn(e){return Object(Ie.jsxs)(U.a,{item:!0,sm:4,children:[Object(Ie.jsxs)(A.a,{children:["repeat ",Object(Ie.jsx)("i",{children:e.name})]}),Object(Ie.jsx)(da.a,{defaultValue:e.value,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:1,marks:!0,min:1,max:8,onChange:function(t,a){e.setter(a)}})]})}var on=a(594),ln=a(595),dn=a(596),jn=a(590),un=a(597),bn=a(593);function pn(){var e=pe(),t=Object(G.a)(["optimade","providers"],(function(){return(new en).getStructureProviders()})),a=Object(n.useState)(void 0),r=Object(d.a)(a,2),i=r[0],c=r[1],s=Object(n.useState)(null),o=Object(d.a)(s,2),l=o[0],j=o[1],u=Object(n.useState)(!1),b=Object(d.a)(u,2),p=b[0],h=b[1],x=Object(n.useState)(1),O=Object(d.a)(x,2),m=O[0],f=O[1],g=Object(G.a)(["optimade","structures",i,l,p,m],(function(){return(new en).getStructures(i,l,p,m,10)}),{keepPreviousData:!0}),v=[];t.data&&(v=t.data.map((function(e){return Object(Ie.jsx)(Dt.a,{value:e.id,children:Object(Ie.jsxs)(at.a,{display:"flex",alignItems:"center",children:[Object(Ie.jsx)(y.a,{title:Object(Ie.jsx)("p",{children:e.attributes.description}),children:Object(Ie.jsxs)("span",{children:[e.attributes.name," "]})}),e.attributes.homepage?Object(Ie.jsx)("a",{href:e.attributes.homepage,target:"_blank",rel:"noopener",children:Object(Ie.jsx)(bn.a,{})}):null]})})})));var w=Object(Ie.jsx)("div",{style:{minHeight:100},children:Object(Ie.jsx)(Lt.a,{})}),k=1;if(g.data)k=Math.ceil((g.data.total||10)/10),g.isPreviousData||(w=Object(Ie.jsx)(hn,{data:g.data.structures}));else if(g.isError){var C=g.error;w=Object(Ie.jsx)(lt.a,{severity:"error",children:C.message})}return Object(Ie.jsxs)(U.a,{container:!0,alignItems:"center",children:[Object(Ie.jsx)(U.a,{item:!0,xs:12,children:Object(Ie.jsxs)(_t.a,{fullWidth:!0,children:[Object(Ie.jsx)(St.a,{id:"optimade-provider-select-label",children:"Provider"}),Object(Ie.jsx)(It.a,{id:"optimade-provider-select",value:i||"",onChange:function(e){c(e.target.value),f(1)},children:v})]})}),Object(Ie.jsx)(U.a,{item:!0,sm:8,children:Object(Ie.jsx)(D.a,{label:"Chemical Formula",value:l||"",fullWidth:!0,onChange:function(e){j(e.target.value)},error:!!l&&!Ya.test(l),helperText:l&&!Ya.test(l)?"Disallowed formula pattern":void 0,style:{paddingBottom:10}})}),Object(Ie.jsx)(U.a,{item:!0,sm:4,children:Object(Ie.jsx)(wa.a,{control:Object(Ie.jsx)(ka.a,{color:"primary",checked:p,onChange:function(e){h(e.target.checked)}}),label:"Exact match",labelPlacement:"start"})}),Object(Ie.jsxs)(U.a,{item:!0,xs:12,className:e.overflowAuto,children:[Object(Ie.jsx)(Yt.a,{disabled:g.isPreviousData,className:e.pagination,color:"primary",count:k,page:m,onChange:function(e,t){f(t)}}),w]})]})}function hn(e){var t=e.data;return Object(Ie.jsxs)(on.a,{className:"optimade-table",children:[Object(Ie.jsx)(ln.a,{children:Object(Ie.jsxs)(dn.a,{children:[Object(Ie.jsx)(jn.a,{children:"ID"}),Object(Ie.jsx)(jn.a,{children:"Formula"}),Object(Ie.jsx)(jn.a,{children:"Dimensions"}),Object(Ie.jsx)(jn.a,{children:"Sites"}),Object(Ie.jsx)(jn.a,{children:"Modified"})]},"_head")}),Object(Ie.jsx)(un.a,{children:(t||[]).map((function(e){var t,a,n,r;return Object(Ie.jsxs)(dn.a,{children:[Object(Ie.jsx)(jn.a,{children:e.id}),Object(Ie.jsx)(jn.a,{children:null===(t=e.attributes)||void 0===t?void 0:t.chemical_formula_descriptive}),Object(Ie.jsx)(jn.a,{children:null===(a=e.attributes)||void 0===a?void 0:a.dimension_types}),Object(Ie.jsx)(jn.a,{children:null===(n=e.attributes)||void 0===n?void 0:n.nsites}),Object(Ie.jsx)(jn.a,{children:null===(r=e.attributes)||void 0===r?void 0:r.last_modified})]},e.id)}))})]})}function xn(){var e=pe();return Object(Ie.jsxs)(U.a,{container:!0,spacing:2,className:e.mainGrid,direction:"row-reverse",children:[Object(Ie.jsx)(U.a,{item:!0,xs:12,sm:12,md:6,children:Object(Ie.jsxs)(g.a,{variant:"outlined",className:e.paper,children:[Object(Ie.jsxs)(Ut.a,{defaultExpanded:!0,children:[Object(Ie.jsx)(Pt.a,{classes:{content:e.accordSumContent},expandIcon:Object(Ie.jsx)(Rt.a,{}),children:Object(Ie.jsx)("h2",{children:"Structure Visualisation"})}),Object(Ie.jsx)(Tt.a,{children:Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)("p",{children:"This panel allows you to visualise structures within your database."}),Object(Ie.jsxs)("p",{children:["Simply enter a ",Object(Ie.jsx)("code",{children:"StructureData"})," UUID (you can copy one from the"," ",Object(Ie.jsx)(mt,{to:We,children:"Node explorer"}),"). Then you can resize the viewer, zoom in/out, rotate (left-click) and pan (right-click)."]}),Object(Ie.jsxs)("p",{children:["You can also search for and visualise structures from an"," ",Object(Ie.jsx)("a",{href:"https://www.optimade.org",target:"_blank",rel:"noopener",children:"Optimade compliant database"}),". It is intended that eventually you will be able to import these structures directly into your AiiDA database."]})]})})]}),Object(Ie.jsxs)(Ut.a,{defaultExpanded:!0,children:[Object(Ie.jsx)(Pt.a,{classes:{content:e.accordSumContent},expandIcon:Object(Ie.jsx)(Rt.a,{}),children:Object(Ie.jsx)("h2",{children:"Optimade Explorer"})}),Object(Ie.jsx)(Tt.a,{children:Object(Ie.jsx)(pn,{})})]})]})}),Object(Ie.jsx)(U.a,{item:!0,xs:12,sm:12,md:6,children:Object(Ie.jsx)(g.a,{variant:"outlined",className:e.paper,children:Object(Ie.jsx)(tn,{})})})]})}var On=a(598),mn=a(599),fn=a(600),gn=a(601),vn=a(602);function yn(){var e=pe();return Object(Ie.jsxs)(U.a,{container:!0,spacing:2,className:e.mainGrid,direction:"row-reverse",children:[Object(Ie.jsx)(U.a,{item:!0,xs:12,sm:12,md:6,children:Object(Ie.jsx)(g.a,{variant:"outlined",className:e.paper,children:Object(Ie.jsxs)(Ut.a,{defaultExpanded:!0,children:[Object(Ie.jsx)(Pt.a,{classes:{content:e.accordSumContent},expandIcon:Object(Ie.jsx)(zt.a,{}),children:Object(Ie.jsx)("h2",{children:"Node Bookmarks"})}),Object(Ie.jsx)(Tt.a,{children:Object(Ie.jsx)(wn,{})})]})})}),Object(Ie.jsx)(U.a,{item:!0,xs:12,sm:12,md:6,children:Object(Ie.jsx)(g.a,{variant:"outlined",className:e.paper,children:Object(Ie.jsxs)(Ut.a,{defaultExpanded:!0,children:[Object(Ie.jsx)(Pt.a,{classes:{content:e.accordSumContent},expandIcon:Object(Ie.jsx)(zt.a,{}),children:Object(Ie.jsx)("h2",{children:"Node Groups"})}),Object(Ie.jsx)(Tt.a,{children:Object(Ie.jsxs)("div",{children:[Object(Ie.jsxs)("p",{children:["Here you can view the ",Object(Ie.jsx)("code",{children:"Groups"})," in your database."]}),Object(Ie.jsxs)("p",{children:["the REST API does not yet support retrieving the nodes in a"," ",Object(Ie.jsx)("code",{children:"Group"}),". It is envisaged this will be implemented soon, alongside ",Object(Ie.jsx)("code",{children:"Group"})," creation/deletion and adding nodes to groups."]})]})}),Object(Ie.jsx)(An,{})]})})})]})}function wn(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],r=t[1],i=Object(G.a)(["bookmarks"],(function(){return JSON.parse(window.localStorage.getItem(Ve)||"[]")})),c=Object(Ie.jsx)(f.a,{children:Object(Ie.jsx)(k.a,{})});return i.data?c=Object(Ie.jsxs)(f.a,{children:[Object(Ie.jsx)(k.a,{}),i.data.map((function(e){return Object(Ie.jsx)(kn,{uuid:e})}))]}):i.isFetching&&(c=Object(Ie.jsx)(Lt.a,{})),Object(Ie.jsxs)(U.a,{container:!0,spacing:1,children:[Object(Ie.jsxs)(U.a,{item:!0,xs:12,children:[Object(Ie.jsx)("p",{children:"This is a list of nodes that you have previously bookmarked."}),Object(Ie.jsxs)("p",{children:["Currently these are held in your local browser storage, but eventually they will be directly created as a ",Object(Ie.jsx)("code",{children:"Group"})," on your database."]})]}),Object(Ie.jsxs)(U.a,{item:!0,xs:12,children:[Object(Ie.jsx)(ut.a,{variant:"contained",color:"primary",onClick:function(){r(!0)},children:"Wipe Bookmarks"}),Object(Ie.jsxs)(On.a,{open:a,onClose:function(){r(!1)},children:[Object(Ie.jsx)(mn.a,{children:"Wipe Bookmarks"}),Object(Ie.jsx)(fn.a,{children:"Are you sure?"}),Object(Ie.jsxs)(gn.a,{children:[" ",Object(Ie.jsx)(ut.a,{onClick:function(){window.localStorage.removeItem(Ve),i.refetch(),r(!1)},color:"primary",children:"YES"}),Object(Ie.jsx)(ut.a,{onClick:function(){r(!1)},color:"primary",autoFocus:!0,children:"NO"})]})]})]}),Object(Ie.jsx)(U.a,{item:!0,xs:12,children:c})]})}function kn(e){var t=e.uuid,a=e.initialOpen,r=Object(h.a)(),i=pe(),c=Object(n.useState)(a),s=Object(d.a)(c,2),o=s[0],l=s[1];return Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(x.a,{button:!0,onClick:function(){l(!o)},children:[Object(Ie.jsx)(m.a,{className:i.nodeListItem,primary:t}),o?Object(Ie.jsx)(zt.a,{style:{marginLeft:r.spacing(1)}}):Object(Ie.jsx)(Ht.a,{style:{marginLeft:r.spacing(1)}})]}),Object(Ie.jsx)(Ft.a,{in:o,timeout:"auto",mountOnEnter:!0,children:Object(Ie.jsx)(Cn,{uuid:t})}),Object(Ie.jsx)(k.a,{})]})}function Cn(e){var t=e.uuid,a=Object(n.useContext)(K),r=Object(G.a)([a.baseUrl,"node",t],(function(){return ne(a.baseUrl,t)}),{enabled:null!==a.baseUrl});return r.data?Object(Ie.jsx)(ea,{pk:r.data.id,uuid:r.data.uuid,mtime:r.data.mtime,node_type:r.data.node_type,process_type:r.data.process_type,label:r.data.label,indent:2},"aiida-tree-el-".concat(r.data.uuid)):r.isFetching?Object(Ie.jsx)(Lt.a,{}):r.isError?Object(Ie.jsx)(lt.a,{severity:"error",children:"".concat(r.error?r.error:"")}):Object(Ie.jsx)(lt.a,{severity:"info",children:"Disabled"})}function An(){var e=Object(h.a)(),t=pe(),a=Object(n.useContext)(K),r=Object(G.a)([a.baseUrl,"groups"],(function(){return function(e){return de.apply(this,arguments)}(a.baseUrl)}),{enabled:null!==a.baseUrl}),i=null;if(r.dataUpdatedAt){var c=new Date(r.dataUpdatedAt);i=Object(Ie.jsxs)(A.a,{display:"inline",noWrap:!0,children:["Updated: ",c.toLocaleString()]})}var s=Object(Ie.jsx)(f.a,{children:Object(Ie.jsx)(k.a,{})});return r.data?s=Object(Ie.jsxs)(f.a,{children:[Object(Ie.jsx)(k.a,{}),r.data.map((function(e){var a=Object(Ie.jsx)(vn.a,{}),n="".concat(e.id," ").concat(e.label),r="".concat(e.time,", ").concat(e.type_string);return e.description&&(r+=", ".concat(e.description)),Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(x.a,{children:[Object(Ie.jsx)(nt.a,{children:Object(Ie.jsx)(rt.a,{children:a})}),Object(Ie.jsx)(m.a,{className:t.nodeListItem,primary:n,secondary:r})]}),Object(Ie.jsx)(k.a,{})]})}))]}):r.isFetching?s=Object(Ie.jsx)(Lt.a,{}):r.isError&&(s=Object(Ie.jsx)(lt.a,{severity:"error",children:"".concat(r.error?r.error:"")})),Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)(ut.a,{variant:"outlined",color:"default",style:{marginRight:e.spacing(1)},startIcon:Object(Ie.jsx)(Wt.a,{}),onClick:function(){r.refetch()},children:"Refresh"}),i,s]})}function _n(e){var t=e.icon,a=e.primary,n=e.to,i=e.onClick,c=Object(z.g)(),s=r.a.useMemo((function(){return r.a.forwardRef((function(e,t){return Object(Ie.jsx)(o.b,Object(j.a)({to:n,ref:t},e))}))}),[n]);return Object(Ie.jsx)("li",{children:Object(Ie.jsxs)(x.a,{button:!0,component:s,selected:n===c.pathname,onClick:i,children:[t?Object(Ie.jsx)(O.a,{children:t}):null,Object(Ie.jsx)(m.a,{primary:a})]})})}function Sn(e){var t,a,i=e.showDevTools,c=void 0===i||i,s=pe(),o=Object(n.useState)(!1),j=Object(d.a)(o,2),h=j[0],x=j[1],O=r.a.useMemo((function(){return Object(p.a)({palette:{type:h?"dark":"light"}})}),[h]),m=Object(n.useState)(!1),C=Object(d.a)(m,2),A=C[0],_=C[1],S=function(){_(!1)},D=pt(Je,$),I=Object(d.a)(D,2),U=I[0],F=I[1],B=Object(Ie.jsxs)(f.a,{children:[Object(Ie.jsx)(_n,{to:Fe,primary:"Home",icon:Object(Ie.jsx)(P.a,{}),onClick:S}),Object(Ie.jsx)(_n,{to:We,primary:"Node Explorer",icon:Object(Ie.jsx)(T.a,{}),onClick:S}),Object(Ie.jsx)(_n,{to:He,primary:"Provenance Graph",icon:Object(Ie.jsx)(Ee,{}),onClick:S}),Object(Ie.jsx)(_n,{to:ze,primary:"Node Groups",icon:Object(Ie.jsx)(N.a,{}),onClick:S}),Object(Ie.jsx)(_n,{to:Ge,primary:"Structure Explorer",icon:Object(Ie.jsx)(Me,{}),onClick:S})]});return Object(Ie.jsx)(b.a,{theme:O,children:Object(Ie.jsx)(g.a,{children:Object(Ie.jsx)(H.a,{client:X,children:Object(Ie.jsxs)(Ot,{SnackbarProps:{autoHideDuration:4e3,anchorOrigin:{vertical:"bottom",horizontal:"right"}},children:[Object(Ie.jsx)(Dn,{restUrlBase:U,setRestUrlBase:F,drawerOpen:A,setDrawerOpen:_}),Object(Ie.jsxs)(v.a,{variant:"permanent",className:Object(u.a)(s.drawer,(t={},Object(l.a)(t,s.drawerOpen,A),Object(l.a)(t,s.drawerClose,!A),t)),classes:{paper:Object(u.a)((a={},Object(l.a)(a,s.drawerOpen,A),Object(l.a)(a,s.drawerClose,!A),a))},children:[Object(Ie.jsxs)("div",{className:s.toolbar,children:[Object(Ie.jsx)(y.a,{title:"Toggle light/dark theme",children:Object(Ie.jsx)(w.a,{onClick:function(){x(!h)},children:h?Object(Ie.jsx)(R.a,{}):Object(Ie.jsx)(L.a,{})})}),Object(Ie.jsx)(w.a,{onClick:S,children:"rtl"===O.direction?Object(Ie.jsx)(E.a,{}):Object(Ie.jsx)(M.a,{})})]}),Object(Ie.jsx)(k.a,{}),B]}),Object(Ie.jsx)(K.Provider,{value:{baseUrl:Q.test(U)?U:null},children:Object(Ie.jsxs)(z.d,{children:[Object(Ie.jsx)(z.b,{exact:!0,path:Fe,component:gt}),Object(Ie.jsx)(z.b,{path:We,component:ia}),Object(Ie.jsx)(z.b,{path:He,component:ma}),Object(Ie.jsx)(z.b,{path:Ge,component:xn}),Object(Ie.jsx)(z.b,{path:ze,component:yn}),Object(Ie.jsx)(z.b,{path:Be,component:In}),Object(Ie.jsx)(z.a,{to:Be})]})}),c?Object(Ie.jsx)(J.ReactQueryDevtools,{initialIsOpen:!1}):null]})})})})}function Dn(e){var t=e.restUrlBase,a=e.setRestUrlBase,n=e.drawerOpen,r=e.setDrawerOpen,i=pe(),c=Object(h.a)(),s=Object(C.a)(c.breakpoints.up("sm"))?Object(Ie.jsx)(A.a,{id:"app-header",variant:"h6",noWrap:!0,children:"AiiDA Dashboard"}):null;return Object(Ie.jsx)(_.a,{position:"sticky",className:Object(u.a)(i.appBar,Object(l.a)({},i.appBarShift,n)),children:Object(Ie.jsxs)(S.a,{children:[Object(Ie.jsx)(w.a,{edge:"start",onClick:function(){r(!0)},className:Object(u.a)(i.menuButton,Object(l.a)({},i.hide,n)),color:"inherit","aria-label":"open drawer",children:Object(Ie.jsx)(F.a,{})}),Object(Ie.jsx)("div",{className:i.aiidaIcon,children:Object(Ie.jsx)(Ne,{width:40,height:40,arcColor:c.palette.text.primary})}),s,Object(Ie.jsx)("div",{className:i.flexGrow}),Object(Ie.jsx)(D.a,{id:"rest-url",className:i.inputRestUrl,label:"REST URL",value:t,error:!Q.test(t),helperText:Q.test(t)?void 0:"Invalid URL",onChange:function(e){a(e.target.value)},autoComplete:$,InputProps:{className:i.inputRestUrlText,endAdornment:Object(Ie.jsx)(I.a,{position:"end",children:Object(Ie.jsx)(Un,{url:Q.test(t)?t:null})})}})]})})}function In(){var e=pe();return Object(Ie.jsx)(U.a,{container:!0,spacing:4,className:e.mainGrid,children:Object(Ie.jsx)(U.a,{item:!0,children:Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)("h1",{children:"404 - Not Found!"}),Object(Ie.jsx)(o.b,{to:"/",children:"Go Home"})]})})})}function Un(e){var t=e.url,a=e.className,n=void 0===a?void 0:a;return Object(G.a)([t,"connected"],(function(){return function(e){return ee.apply(this,arguments)}(t)})).data?Object(Ie.jsx)(B.a,{className:n}):Object(Ie.jsx)(W.a,{color:"error",className:n})}kn.defaultProps={initialOpen:!1};a(487),a(488);c.a.render(Object(Ie.jsx)(r.a.StrictMode,{children:Object(Ie.jsx)(o.a,{children:Object(Ie.jsx)(Sn,{})})}),document.getElementById("root")),s()}},[[489,1,2]]]);
//# sourceMappingURL=main.9ac7a64e.chunk.js.map